/* ====================================================== */
/* == Styles V6 - by:- الطائر لحر - A7la7ekaya == */
/* ====================================================== */

/* --- 1. Variables CSS et Styles --- */

/* --- !!! تم تعليق هذه القاعدة لأنها تتعارض مع نظام الستايل والوضع الليلي !!! --- */
/*
body {
  background-image: url("https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhKAyB7D4CXsn2lE8KW_dAJE_vBSKF1jmjMuhOCMT6MSwoIdjGTidPRm3KVNdvt5MtTjyI8G_a8kC6Azd0nKJrjFmqV8tgdsBjL-ReGhkK52qb1U1oEYBwXfW2JPCL-eCSdeLKQbMlTUQk/s160-Ic42/cream_pixels.png");
  background-repeat: repeat;
  background-attachment: scroll;
  background-position: 0 0;
  background-color: #ffffff;
}
*/
/* --- !!! تم تعليق هذه القاعدة لأنها قديمة وغير مستخدمة بواسطة نظام الستايل أدناه !!! --- */
/*
body{
    --main-color: #446FAA;
    --sub-color: #444444;
    --hocolor: #FC5400;
    --link-color: #3e5b7e;
    --border-color: #cccccc;
    --text-color: #555;
    --bg-color: #ffffff;
    --bg-body-pattern: url(https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhKAyB7D4CXsn2lE8KW_dAJE_vBSKF1jmjMuhOCMT6MSwoIdjGTidPRm3KVNdvt5MtTjyI8G_a8kC6Azd0nKJrjFmqV8tgdsBjL-ReGhkK52qb1U1oEYBwXfW2JPCL-eCSdeLKQbMlTUQk/s160-Ic42/cream_pixels.png);
    --header-bg-color: #f8f8f8;
    --widget-bg-color: #ffffff;
    --menu-bg-color: #446FAA;
    --menu-text-color: #ffffff;
    --footer-credit-bg: #446FAA;
    --footer-credit-text: #ffffff;
    --code-bg: #f8f9fa;
    --code-text: #202124;
    --code-border: #dadce0;
    --code-footer-bg: #f1f3f4;
}
*/
/* --- تنسيقات جديدة لعناصر التسميات باستخدام متغيرات المنتدى --- */
.styled-labels-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.styled-label-item {
    margin-bottom: 5px;
}

.styled-label-item a {
    display: flex;
    align-items: stretch;
    text-decoration: none;
    border-radius: 3px;
    overflow: hidden;
    border: 1px solid var(--primary-color, #446FAB);
    transition: opacity 0.2s ease;
    height: 30px;
}
.styled-label-item a:hover {
    opacity: 0.85;
}

.label-count-box {
    background-color: var(--dark-primary, #1D3E5C); /* استخدام لون أغمق من الأساسي للعدد */
    color: var(--header-text-color, #ffffff);
    font-weight: bold;
    font-size: 13px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.label-text-content {
    background-color: var(--primary-color, #446FAB); /* اللون الأساسي لنص التسمية */
    color: var(--header-text-color, #ffffff);
    flex-grow: 1;
    font-size: 13px;
    display: flex;
    align-items: center;
    text-align: right;
}

.label-icon-box {
    background-color: var(--menu-hover-bg, #5c85ad); /* ****** التغيير هنا: استخدام لون أزرق فاتح للخلفية ****** */
                                                    /* يمكنك استخدام متغير مثل --menu-hover-bg إذا كان موجودًا ومناسبًا، */
                                                    /* أو يمكنك وضع قيمة لون ثابتة مثل #5c85ad أو #7BA4CC */
    color: var(--header-text-color, #ffffff);       /* ****** التغيير هنا: لون الأيقونة أبيض ****** */
    padding: 0px 0px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.label-icon-box .fa { /* هذا يستهدف أيقونة .fa داخل الصندوق */
    font-size: 14px;
    /* color: inherit; /* ليرث اللون من .label-icon-box وهو الأبيض */
}
span.label-icon-box {
    position: absolute;
    
}

span.label-text-content {
    position: static;
    padding-right: 35px;
}
span.label-count-box {
    position: absolute;
    margin-right: 270px;
}
span.label-text-content a {
    width: 230px;
}

div#Admin-ONLINE h2.title::before {
    font-family: "Font Awesome 5 Free";
    font-weight: 700;
    content: "\f521";
}

div#Moderators-ONLINE h2.title::before {
    font-family: "Font Awesome 5 Free";
    font-weight: 700;
    content: "\f21b";
}

div#Members-ONLINE h2.title::before {
    font-family: "Font Awesome 5 Free";
    font-weight: 700;
    content: "\f0c0";
}

div#Admin-ONLINE, div#Moderators-ONLINE ,div#Members-ONLINE, div#HTML13, div#HTML14, div#HTML15 {
    background-color: var(--content-bg-color, #ffffff);
    border: 1px solid var(--border-color, #cccccc);
    border-radius: 3px;
    margin-bottom: 20px;
    direction: rtl;
    font-family: var(--body-font-family, Arial, sans-serif);
    overflow: hidden;
    max-width: 350px;
    margin-left: auto;
    margin-right: auto;
}
.post-body .post .post-content img, .post-body .post .post-content a img {
    min-width: 700px;
    min-height: 500px;
    width: 700px;
    height: 500px;
}
.post-body .post .post-content img[src^="/users/"][src*="/smiles/"]{
    width: auto;
    height: auto;
    min-width: auto;
    min-height: auto;
}

.post-body .post .post-content img[alt=":lheidl!"] {
    width: auto;
    height: auto;
    min-width: auto;
    min-height: auto;
}
.widget-content
 {
    font-size: 0px;
}
.password-container {
    position: relative;
    display: contents;
    align-items: inherit;
    gap: inherit;
}
span.userTitle {
    display: block;
    padding-right: 55px;
    FONT-WEIGHT: 700;
    font-size: 14px;
}
.block-container .block-body {
    /* padding-left: 0px; */
    width: 100%;
}
.block .block-header {
    background-color: var(--primary-color);
    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1), 0 0 2px rgba(0, 0, 0, 0.1);
    color: #FFF;
    border-radius: 3px;
    padding: 16px;
    position: relative;
    word-break: break-word;
}
/* --- هذا هو الجزء الفعال لتعريف المتغيرات --- */
:root {
  --main-bg-color: #f0f0f0; /* خلفية الصفحة العامة */
  --content-bg-color: #ffffff; /* خلفية المحتوى */
  --primary-color: #446FAB; /* اللون الأساسي (يتم تحديثه بلوحة التحكم) */
  --secondary-color: #333333; /* لون ثانوي (مثل القائمة) */
  --accent-color: #fc5400; /* لون تمييز */
  --text-color: #333333; /* لون النص الأساسي */
  --link-color: #446FAB; /* لون الرابط (يتبع اللون الأساسي) */
  --header-text-color: #ffffff; /* لون النص فوق الخلفيات الأساسية/الثانوية */
  --menu-text-color: #ffffff; /* لون نص القائمة */
  --menu-hover-bg: #446FAB; /* لون خلفية الماوس فوق القائمة (يتبع اللون الأساسي) */
  --dropdown-bg: #444444; /* خلفية القوائم المنسدلة */
  --dropdown-text: #eeeeee; /* نص القوائم المنسدلة */
  --dropdown-hover-bg: #555555; /* خلفية الماوس فوق القوائم المنسدلة */
  --border-color: #dddddd; /* لون الحدود */
  --body-font-size: 14px; /* حجم الخط الافتراضي */
  --body-font-family: "Droid Arabic Kufi", Tahoma, Verdana, Arial, sans-serif; /* خط الموقع */
  --code-font-family: Consolas, Monaco, monospace; /* خط الأكواد */
  /* Variables mode nuit */
  --dark-bg: #22272e; /* خلفية الصفحة بالوضع الليلي */
  --dark-content-bg: #2d333b; /* خلفية المحتوى بالوضع الليلي */
  --dark-text: #cdd9e5; /* لون النص بالوضع الليلي */
  --dark-link: #58a6ff; /* لون الرابط بالوضع الليلي */
  --dark-border: #444c56; /* لون الحدود بالوضع الليلي */
  --dark-primary: #2d333b; /* اللون الأساسي بالوضع الليلي */
  --dark-secondary: #373e47; /* اللون الثانوي بالوضع الليلي */
  --dark-header-text: #cdd9e5; /* لون نص الهيدر/الفوتر بالوضع الليلي */
  --dark-menu-text: #cdd9e5; /* لون نص القائمة بالوضع الليلي */
  --dark-dropdown-bg: #444c56; /* خلفية المنسدلة بالوضع الليلي */
  --dark-dropdown-text: #cdd9e5; /* نص المنسدلة بالوضع الليلي */
  --dark-dropdown-hover-bg: #586069; /* خلفية الماوس فوق المنسدلة بالوضع الليلي */
}

/* --- 2. Styles Généraux & Application des Variables --- */
body#phpbb { /* يستهدف body فقط إذا كان منتدى (له ID=phpbb) */
  background-color: var(--main-bg-color); /* يطبق خلفية الصفحة العامة */
  font-family: var(--body-font-family);
  font-size: var(--body-font-size);
  color: var(--text-color);
  transition: background-color 0.3s ease, color 0.3s ease;
  margin: 0; padding: 0;
  /* أي خلفية صورة يجب تطبيقها هنا إذا أردتها ديناميكية */
  /* مثال: background-image: var(--bg-body-pattern); */
  /* لكن يجب تعريف --bg-body-pattern في :root و body#phpbb.dark-mode */
}
body#phpbb.dark-mode { /* عند تفعيل الوضع الليلي */
  /* إعادة تعريف المتغيرات لقيم الوضع الليلي */
  --main-bg-color: var(--dark-bg);
  --content-bg-color: var(--dark-content-bg);
  --text-color: var(--dark-text);
  --link-color: var(--dark-link);
  --primary-color: var(--dark-primary);
  --secondary-color: var(--dark-secondary);
  --menu-hover-bg: var(--dark-primary);
  --border-color: var(--dark-border);
  --header-text-color: var(--dark-header-text);
  --menu-text-color: var(--dark-menu-text);
  --dropdown-bg: var(--dark-dropdown-bg);
  --dropdown-text: var(--dark-dropdown-text);
  --dropdown-hover-bg: var(--dark-dropdown-hover-bg);
  /* هنا يمكنك أيضًا تغيير خلفية الصورة إذا أردت */
  /* --bg-body-pattern: url(رابط-صورة-الوضع-الليلي.png); */
}

*, *:before, *:after { box-sizing: border-box; }
.a7la7ekaya-header { direction: rtl; }
a { color: var(--link-color); text-decoration: none !important; transition: color 0.2s ease; border-bottom: none !important; } /* تم إضافة !important لإلغاء الخط */
a:hover { text-decoration: underline !important; color: var(--primary-color); } /* يمكنك إزالة !important إذا لم تكن هناك حاجة ماسة */
body.dark-mode a { color: var(--dark-link); }
body.dark-mode a:hover { color: #79c0ff; }
hr { border: 0; border-top: 1px solid var(--border-color); margin: 5px 0; }

/* --- باقي الكود --- */
/* (Application des couleurs aux éléments courants d'AhlaForum) */
.bodyline, #page-body, .main-content, #wrap, .panel, #content-container { background-color: var(--content-bg-color); border: 1px solid var(--border-color); color: var(--text-color); transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease; }
body.dark-mode .bodyline, body.dark-mode #page-body, body.dark-mode .main-content, body.dark-mode #wrap, body.dark-mode .panel, body.dark-mode #content-container { background-color: var(--dark-content-bg); border-color: var(--dark-border); color: var(--dark-text); }
.forumline th, th.thHead, th.thCornerL, th.thCornerR, .category td.cat, .category td.catHead, .category td.catBottom, .catHead, .table_header { background: var(--primary-color) !important; color: var(--header-text-color) !important; border-color: var(--primary-color) !important; transition: background 0.3s ease, color 0.3s ease, border-color 0.3s ease; }
.forumline td.row1, .forumline td.row2, .forumline td.row3, .row1, .row2, .row3 { background-color: var(--content-bg-color); color: var(--text-color); border-bottom: 1px solid var(--border-color); transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease; }
body.dark-mode .forumline td.row1, body.dark-mode .forumline td.row2, body.dark-mode .forumline td.row3, body.dark-mode .row1, body.dark-mode .row2, body.dark-mode .row3 { background-color: var(--dark-content-bg); border-bottom: 1px solid var(--dark-border); }
.topictitle, .topic-title a, .forumlink { color: var(--link-color); font-weight: bold; }
.postdetails, .postdetails a, .gensmall, .postby, .postdetails span { color: var(--text-color); font-size: 0.9em; transition: color 0.3s ease; }
body.dark-mode .postdetails, body.dark-mode .postdetails a, body.dark-mode .gensmall, body.dark-mode .postby, body.dark-mode .postdetails span { color: var(--dark-text); }
.nav, .nav a, .maintitle a, #page-header .nav a, .breadcrumbs a { color: var(--text-color); transition: color 0.3s ease; }
body.dark-mode .nav, body.dark-mode .nav a, body.dark-mode .maintitle a, body.dark-mode #page-header .nav a, body.dark-mode .breadcrumbs a { color: var(--dark-text); }
.btn, input.button, input[type="submit"], input[type="button"], button.button, .button1, .button2 { background-color: var(--primary-color); color: var(--header-text-color) !important; border: 1px solid var(--primary-color); /* padding: 5px 10px; */ border-radius: 3px; cursor: pointer; transition: filter 0.2s ease, background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease; font-weight: bold; }
.btn:hover, input.button:hover, input[type="submit"]:hover, input[type="button"]:hover, button.button:hover, .button1:hover, .button2:hover { filter: brightness(1.1); text-decoration: none !important; color: var(--header-text-color) !important; } /* تم إضافة !important هنا أيضًا */
body.dark-mode .btn, body.dark-mode input.button, body.dark-mode input[type="submit"], body.dark-mode input[type="button"], body.dark-mode button.button, body.dark-mode .button1, body.dark-mode .button2 { background-color: var(--dark-primary); color: var(--dark-bg) !important; border-color: var(--dark-primary); }
input[type="text"], input[type="password"], textarea, select { border: 1px solid var(--border-color); padding: 5px; background-color: var(--content-bg-color); color: var(--text-color); border-radius: 3px; transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease; }
body.dark-mode input[type="text"], body.dark-mode input[type="password"], body.dark-mode textarea, body.dark-mode select { background-color: var(--dark-content-bg); border-color: var(--dark-border); color: var(--dark-text); }
input:focus, textarea:focus, select:focus { border-color: var(--primary-color); outline: none; box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary-color) 30%, transparent); }
body.dark-mode input:focus, body.dark-mode textarea:focus, body.dark-mode select:focus { border-color: var(--dark-primary); box-shadow: 0 0 0 2px color-mix(in srgb, var(--dark-primary) 30%, transparent); }
blockquote { background-color: #f9f9f9; border-right: 4px solid var(--border-color); padding: 10px 15px; margin: 10px 0; color: var(--text-color); transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease; }
body.dark-mode blockquote { background-color: #3e444c; border-right-color: var(--dark-border); }
.codebox code { font-family: var(--code-font-family); background-color: #f5f5f5; border: 1px solid var(--border-color); padding: 10px; display: block; overflow-x: auto; color: var(--text-color); transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease; text-align: left; direction: ltr; }
body.dark-mode .codebox code { background-color: #282c34; border-color: var(--dark-border); color: #abb2bf; }
.pagination span a, .pagination span a:link, .pagination span a:visited, .pagination > a { background-color: var(--content-bg-color); border: 1px solid var(--border-color); color: var(--link-color); padding: 3px 6px; margin: 0 1px; border-radius: 3px; transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease; }
.pagination span a:hover, .pagination > a:hover { background-color: var(--primary-color); color: var(--header-text-color) !important; border-color: var(--primary-color); text-decoration: none !important; } /* !important */
body.dark-mode .pagination span a, body.dark-mode .pagination span a:link, body.dark-mode .pagination span a:visited, body.dark-mode .pagination > a { background-color: var(--dark-content-bg); border-color: var(--dark-border); color: var(--dark-link); }
body.dark-mode .pagination span a:hover, body.dark-mode .pagination > a:hover { background-color: var(--dark-primary); color: var(--dark-bg) !important; border-color: var(--dark-primary); }
.pagination span strong, .pagination > span.page-current { background-color: var(--primary-color); color: var(--header-text-color) !important; border: 1px solid var(--primary-color); padding: 3px 6px; margin: 0 1px; border-radius: 3px; font-weight: bold; }
body.dark-mode .pagination span strong, body.dark-mode .pagination > span.page-current { background-color: var(--dark-primary); color: var(--dark-bg) !important; border-color: var(--dark-primary); }


/* --- 3. Styles du Menu Principal Personnalisé --- */
#custom-header-area { margin-bottom: 10px; }
#custom-main-menu { background-color: var(--secondary-color); width: 100%; position: relative; z-index: 100; border-bottom: 3px solid var(--primary-color); transition: background-color 0.3s ease, border-color 0.3s ease; }
.custom-menu-inner { max-width: 1100px; margin: 0 auto; padding: 0 10px; position: relative; min-height: 48px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; }
.custom-smallogo { color: var(--menu-text-color); padding: 0 15px; font-weight: bold; text-decoration: none !important; line-height: 48px; white-space: nowrap; transition: background-color 0.3s ease, color 0.3s ease; order: 1; border-bottom: none !important; }
.custom-smallogo:hover { background-color: rgba(255,255,255,0.1); color: var(--menu-text-color); text-decoration: none !important;}

/* Bouton Menu Mobile */
#custom-menubtn { display: none; }
.custom-menublabel { display: none; cursor: pointer; padding: 10px; order: 4; margin-left: 0; margin-right: 10px; position: relative; top: 3px; }
.custom-menublabel span, .custom-menublabel span::before, .custom-menublabel span::after { content: ''; display: block; background-color: var(--menu-text-color); height: 3px; width: 25px; margin-bottom: 5px; border-radius: 2px; transition: all 0.3s ease; }
.custom-menublabel span::before { position: absolute; top: 4px; }
.custom-menublabel span::after { position: absolute; top: 22px; }
#custom-menubtn:checked ~ .custom-menublabel span { background-color: transparent; }
#custom-menubtn:checked ~ .custom-menublabel span::before { transform: rotate(45deg) translate(5px, 7px); }
#custom-menubtn:checked ~ .custom-menublabel span::after { transform: rotate(-45deg) translate(5px, -7px); }

/* Menu Principal ul.custom-t-menu */
.custom-t-menu { list-style: none; padding: 0; margin: 0; display: flex; flex-grow: 1; order: 2; justify-content: flex-start; }
.custom-t-menu li { position: relative; }
.custom-t-menu li a { display: block; padding: 0 15px; line-height: 48px; color: var(--menu-text-color); text-decoration: none !important; white-space: nowrap; transition: background-color 0.3s ease, color 0.3s ease; border-bottom: none !important; }
.custom-t-menu li a:hover, .custom-t-menu li:hover > a { background-color: var(--menu-hover-bg); color: var(--menu-text-color); text-decoration: none !important; }

/* Sous-menus */
.custom-t-menu li ul.custom-drop { display: none; position: absolute; top: 100%; right: 0; background-color: var(--dropdown-bg); list-style: none; padding: 5px 0; margin: 0; min-width: 200px; box-shadow: 0 3px 6px rgba(0,0,0,0.2); z-index: 101; border-radius: 0 0 4px 4px; transition: background-color 0.3s ease; }
.custom-t-menu li:hover > ul.custom-drop { display: block; }
.custom-t-menu li ul.custom-drop li { width: 100%; }
.custom-t-menu li ul.custom-drop li a { line-height: 38px; color: var(--dropdown-text); padding: 0 15px; font-size: 0.9em; transition: background-color 0.2s ease, color 0.2s ease; }
.custom-t-menu li ul.custom-drop li a:hover { background-color: var(--dropdown-hover-bg); text-decoration: none !important; color: #fff; }
body.dark-mode .custom-t-menu li ul.custom-drop li a:hover { color: #fff; }
.custom-t-menu li#sub > a.custom-suba::after { content: " \f078"; font-family: "Font Awesome 5 Free", FontAwesome; font-weight: 900; font-size: 10px; margin-right: 5px; vertical-align: middle; }

/* --- 4. Espace Utilisateur #custom-user-area --- */
#custom-user-area { display: flex; align-items: center; margin: 0 15px 0 auto; padding: 0; order: 3; position: relative; }

/* Connexion directe */
#custom-user-area .user-links-logged-out { display: flex; align-items: center; }
#custom-user-area .login-input { padding: 5px 8px; border: 1px solid #555; background-color: #555; color: #eee; border-radius: 3px; height: 30px; font-size: 12px; margin-left: 5px; transition: all 0.3s ease; width: 110px; }
#custom-user-area .login-input::placeholder { color: #bbb; opacity: 0.8; }
#custom-user-area .login-input:focus { border-color: var(--primary-color); background-color: var(--content-bg-color); color: var(--text-color); outline: none; }
body.dark-mode #custom-user-area .login-input { background-color: var(--dark-secondary); border-color: #666; color: var(--dark-menu-text); }
body.dark-mode #custom-user-area .login-input:focus { background-color: var(--dark-content-bg); color: var(--dark-text); border-color: var(--dark-primary); }
#custom-user-area .autologin-label { color: #ccc; font-size: 11px; margin-left: 8px; display: inline-flex; align-items: center; cursor: pointer; white-space: nowrap; }
#custom-user-area .autologin-checkbox { margin-left: 3px; vertical-align: middle; cursor: pointer; }
#custom-user-area .login-button { background-color: var(--primary-color); color: var(--menu-text-color); border: none; padding: 0 8px; height: 30px; border-radius: 3px; cursor: pointer; font-size: 13px; transition: background-color 0.3s ease; margin-left: 8px; line-height: 30px; }
#custom-user-area .login-button:hover { filter: brightness(1.1); }
#custom-user-area .user-links-logged-out a.register-link { color: #eee; text-decoration: none !important; font-size: 13px; transition: color 0.2s ease; white-space: nowrap; display: inline-flex; align-items: center; margin-left: 5px; padding: 5px; border-bottom: none !important; }
#custom-user-area .user-links-logged-out a.register-link:hover { color: #fff; }
#custom-user-area .user-links-logged-out a.register-link i { margin-left: 4px; }

/* Infos Membre Connecté */
#custom-user-area .user-info-logged-in { display: flex; align-items: center; position: relative; }
#custom-user-area .user-summary { display: flex; align-items: center; margin-left: 0px; }
#custom-user-area .user-name { color: var(--menu-text-color); font-weight: bold; text-decoration: none !important; display: inline-flex; align-items: center; font-size: 13px; margin-left: 5px; border-bottom: none !important; }
#custom-user-area .user-name:hover { text-decoration: none !important; color: #eee; }
.user-avatar-small { width: 24px; height: 24px; border-radius: 50%; margin-left: 8px; border: 1px solid #666; vertical-align: middle; object-fit: cover; background-color: #555; display: inline-block; transition: border-color 0.3s ease; }
.user-avatar-small-icon { font-size: 24px; margin-left: 8px; color: #ccc; vertical-align: middle; display: inline-block; width: 24px; height: 24px; line-height: 24px; text-align: center; background-color: #555; border-radius: 50%; }
.user-pm-link, .user-logout-link { color: var(--menu-text-color); text-decoration: none !important; margin-left: 10px; font-size: 14px; position: relative; padding: 5px; transition: color 0.2s ease; border-bottom: none !important; }
.user-pm-link .pm-count { background-color: red; color: white; border-radius: 10px; font-size: 10px; padding: 1px 5px; position: absolute; top: -2px; right: -8px; line-height: 1; font-weight: bold; box-shadow: 0 0 3px rgba(0,0,0,0.5); min-width: 16px; text-align: center; z-index: 1; }
.user-pm-link:hover, .user-logout-link:hover { color: #eee; }

.dropdown-trigger { cursor: pointer; padding: 10px 8px 10px 5px; display: inline-flex; align-items: center; }
.dropdown-indicator { font-size: 12px; color: var(--menu-text-color); transition: transform 0.2s ease-in-out; display: inline-block; }
#custom-user-area .user-info-logged-in.dropdown-active .dropdown-indicator { transform: rotate(180deg); }

/* Sous-menu Utilisateur */
#user-dropdown { display: none; position: absolute; top: calc(100% + 5px); left: 0; background-color: var(--content-bg-color); list-style: none; padding: 8px 0; margin: 0; min-width: 220px; box-shadow: 0 5px 10px rgba(0,0,0,0.2); z-index: 102; border-radius: 4px; border: 1px solid var(--border-color); text-align: right; transition: background-color 0.3s ease, border-color 0.3s ease; }
#user-dropdown li a { display: block; padding: 8px 15px; color: var(--text-color); text-decoration: none !important; font-size: 13px; white-space: nowrap; transition: background-color 0.2s ease, color 0.2s ease; border-bottom: none !important; }
#user-dropdown li a:hover { background-color: #f0f0f0; text-decoration: none !important; color: var(--primary-color); }
body.dark-mode #user-dropdown { background-color: var(--dark-dropdown-bg); border-color: var(--dark-border); }
body.dark-mode #user-dropdown li a { color: var(--dark-dropdown-text); }
body.dark-mode #user-dropdown li a:hover { background-color: var(--dark-dropdown-hover-bg); color: var(--dark-primary); }
#user-dropdown li a i.fa-fw { margin-left: 10px; color: #888; width: 1.2em; text-align: center; transition: color 0.2s ease; }
body.dark-mode #user-dropdown li a i.fa-fw { color: #aaa; }
#user-dropdown li a:hover i.fa-fw { color: var(--primary-color); }
body.dark-mode #user-dropdown li a:hover i.fa-fw { color: var(--dark-primary); }
#user-dropdown hr.separator { border-top-color: var(--border-color); }


/* --- 5. Espace Recherche Intégré #custom-search-area --- */
#custom-search-area { display: flex; align-items: center; order: 5; margin-right: auto; position: relative; }
#custom-search-trigger a { color: var(--menu-text-color); padding: 0 10px; line-height: 48px; font-size: 16px; text-decoration: none !important; display: block; transition: color 0.2s ease; border-bottom: none !important; }
#custom-search-trigger a:hover { color: #ccc; }
#custom-search-inline { position: absolute; top: 50%; left: calc(100% + 5px); transform: translateY(-50%); background-color: var(--secondary-color); display: flex; align-items: center; padding: 5px; border-radius: 4px; z-index: 103; box-shadow: 0 2px 5px rgba(0,0,0,0.3); opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease, left 0.3s ease; }
#custom-search-inline.active { left: 0; opacity: 1; visibility: visible; }
#custom-search-inline form { display: flex; }
#custom-search-text-inline { padding: 6px 10px; border: 1px solid #555; background-color: #555; color: #eee; border-radius: 3px 0 0 3px; height: 30px; transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease; font-size: 13px; width: 180px; }
#custom-search-text-inline:focus { background-color: var(--content-bg-color); color: var(--text-color); border-color: var(--primary-color); outline: none; }
body.dark-mode #custom-search-text-inline { background-color: var(--dark-secondary); border-color: #666; color: var(--dark-menu-text); }
body.dark-mode #custom-search-text-inline:focus { background-color: var(--dark-content-bg); color: var(--dark-text); border-color: var(--dark-primary); }
#custom-search-inline button[type="submit"] { background-color: var(--primary-color); border: none; color: var(--menu-text-color); padding: 0 10px; height: 30px; border-radius: 0; cursor: pointer; font-size: 13px; transition: background-color 0.3s ease; }
#custom-search-inline button[type="submit"]:hover { filter: brightness(1.1); }
#custom-search-inline button#close-inline-search { background-color: transparent; border: none; color: #aaa; cursor: pointer; font-size: 18px; line-height: 1; padding: 0 8px; transition: color 0.2s ease; margin-right: 5px; border-radius: 0 3px 3px 0; height: 30px; }
#custom-search-inline button#close-inline-search:hover { color: #eee; }

/* --- 6. Styles En-tête Principal (Logo/Titre) --- */
#custom-header-wrapper { background-color: var(--primary-color); padding: 20px 0; transition: background-color 0.3s ease; }
.custom-header-inner { max-width: 1100px; margin: 0 auto; padding: 0 10px; text-align: right; }
.custom-titlewrapper { margin-bottom: 5px; }
.custom-title a { color: var(--header-text-color); font-size: 2.2em; font-weight: bold; text-decoration: none !important; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); transition: color 0.3s ease; display: inline-block; border-bottom: none !important; }
.custom-title a:hover { text-decoration: none !important; }
.custom-title img#forum_logo { max-height: 70px; width: auto; display: inline-block; vertical-align: middle; }
.custom-description span { color: #eee; font-size: 0.95em; transition: color 0.3s ease; }
body.dark-mode .custom-description span { color: #ccc; }

/* --- إضافة: تطبيق ألوان الوضع الليلي صراحة للهيدر --- */
body#phpbb.dark-mode #custom-header-wrapper {
    background-color: var(--dark-primary); /* استخدام متغير الوضع الليلي الأساسي */
}
body#phpbb.dark-mode .custom-title a {
    color: var(--dark-header-text); /* استخدام متغير نص الوضع الليلي */
}
/* --- نهاية الإضافة --- */


/* --- 7. Panneau de Personnalisation du Style --- */
#style-options-container { position: fixed; top: 150px; left: -255px; z-index: 999; direction: ltr; transition: left 0.3s ease-in-out; }
#style-options-container.open { left: 0; }
#style-options-trigger { position: absolute; left: 100%; top: 0; background-color: var(--primary-color); color: var(--header-text-color); padding: 8px 10px; border-radius: 0 5px 5px 0; cursor: pointer; font-size: 20px; box-shadow: 2px 2px 5px rgba(0,0,0,0.2); transition: background-color 0.3s ease, color 0.3s ease; border: 1px solid rgba(0,0,0,0.2); border-left: none; }
#style-options-trigger:hover { filter: brightness(1.1); }
#style-options-panel { width: 250px; background-color: var(--content-bg-color); border: 1px solid var(--border-color); border-left: none; box-shadow: 2px 2px 10px rgba(0,0,0,0.2); border-radius: 0 5px 5px 0; padding: 15px; height: auto; max-height: calc(100vh - 180px); overflow-y: auto; transition: background-color 0.3s ease, border-color 0.3s ease; }
body.dark-mode #style-options-panel { background-color: var(--dark-content-bg); border-color: var(--dark-border); }
#style-options-panel h4 { margin-top: 15px; margin-bottom: 8px; font-size: 1em; color: var(--text-color); border-bottom: 1px solid var(--border-color); padding-bottom: 5px; transition: color 0.3s ease, border-color 0.3s ease; }
#style-options-panel h4:first-child { margin-top: 0; }
/* Onglets */
.options-tabs-nav { list-style: none; padding: 0; margin: 0 0 15px 0; display: flex; border-bottom: 1px solid var(--border-color); transition: border-color 0.3s ease; }
.options-tabs-nav li { margin-right: 5px; padding: 8px 12px; cursor: pointer; color: var(--text-color); border: 1px solid transparent; border-bottom: none; border-radius: 4px 4px 0 0; font-size: 0.9em; transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease; }
.options-tabs-nav li.active { background-color: var(--content-bg-color); border-color: var(--border-color); border-bottom-color: var(--content-bg-color) !important; position: relative; top: 1px; font-weight: bold; }
body.dark-mode .options-tabs-nav li { color: var(--dark-text); }
body.dark-mode .options-tabs-nav li.active { background-color: var(--dark-content-bg); border-color: var(--dark-border); border-bottom-color: var(--dark-content-bg) !important; }
.options-tabs-nav li:hover:not(.active) { background-color: rgba(128,128,128,0.1); }
body.dark-mode .options-tabs-nav li:hover:not(.active) { background-color: rgba(200,200,200,0.1); }
.options-tab-pane { display: none; }
.options-tab-pane.active { display: block; }
/* Échantillons de couleur */
#color-swatches { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 15px; }
.color-swatch { width: 25px; height: 25px; border: 1px solid var(--border-color); border-radius: 50%; cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.3s ease; padding: 0; }
.color-swatch:hover { transform: scale(1.1); }
.color-swatch.active { box-shadow: 0 0 0 2px var(--content-bg-color), 0 0 0 4px var(--primary-color); }
body.dark-mode .color-swatch.active { box-shadow: 0 0 0 2px var(--dark-content-bg), 0 0 0 4px var(--dark-primary); }
/* Bouton à bascule */
.control-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.control-item span { font-size: 0.9em; color: var(--text-color); transition: color 0.3s ease; }
.toggle-button { background-color: #ccc; color: #fff; border: none; padding: 4px 10px; border-radius: 15px; cursor: pointer; font-size: 11px; font-weight: bold; min-width: 50px; text-align: center; position: relative; transition: background-color 0.3s ease; }
.toggle-button:before { content: ''; display: block; width: 18px; height: 18px; background-color: white; border-radius: 50%; position: absolute; top: 2px; left: 3px; transition: left 0.3s ease; box-shadow: 0 1px 2px rgba(0,0,0,0.2); }
.toggle-button[data-state="on"] { background-color: var(--primary-color); }
.toggle-button[data-state="on"]:before { left: calc(100% - 21px); }
body.dark-mode .toggle-button { background-color: #555; }
body.dark-mode .toggle-button[data-state="on"] { background-color: var(--dark-primary); }
/* Contrôles de police */
#font-family-select { width: 100%; padding: 6px; border: 1px solid var(--border-color); border-radius: 3px; font-size: 0.9em; background-color: var(--content-bg-color); color: var(--text-color); transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease; }
body.dark-mode #font-family-select { background-color: #555; border-color: var(--dark-border);}
.font-size-controls { display: flex; align-items: center; justify-content: space-between; margin-top: 10px; }
.font-size-controls button { background-color: #eee; border: 1px solid var(--border-color); color: var(--text-color); width: 30px; height: 30px; border-radius: 50%; font-size: 1.2em; line-height: 1; cursor: pointer; transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease; }
body.dark-mode .font-size-controls button { background-color: #555; border-color: var(--dark-border); color: var(--dark-text); }
.font-size-controls button:hover { background-color: #ddd; }
body.dark-mode .font-size-controls button:hover { background-color: #666; }
#current-font-size { font-weight: bold; color: var(--text-color); transition: color 0.3s ease; }
#reset-font-settings, #reset-all-options { margin-top: 15px; width: 100%; background: #ffc107; border: 1px solid #b98d06; color: #333; padding: 6px; font-size: 13px; cursor: pointer; border-radius: 3px; text-align: center; transition: filter 0.2s ease; }
#reset-all-options { background: #dc3545; border-color: #a71d2a; color: #fff; }
#reset-font-settings:hover, #reset-all-options:hover { filter: brightness(1.1); }
/* Masquage de la barre latérale - Ajustez les sélecteurs si nécessaire */

body.sidebar-hidden aside#sidebar { display: none !important; width: 0px;}
body.sidebar-hidden main#index {
    margin-left: 75px;
    transition: none;
    margin: 0 auto 0 auto;
    margin-right: 75px;
}
body.sidebar-hidden #mainContent, body.sidebar-hidden .forumline:not(#latest_topics_list):not(.profile), body.sidebar-hidden #page-body > table > tbody > tr > td:first-child:not([colspan]), body.sidebar-hidden .layout-content { width: 100% !important; margin: 0 !important; padding: 0 5px !important; float: none !important; }

/* --- 8. Styles Adaptatifs --- */
@media screen and (max-width: 1150px) { #style-options-container { display: none; } }
@media screen and (max-width: 1050px) {
    .custom-t-menu { display: none; }
    .custom-menublabel { display: block; }
    #custom-user-area { order: 2; margin: 0 10px 0 auto; }
    #custom-search-area { order: 3; margin-right: 10px; }
    #custom-menubtn:checked ~ .custom-t-menu { display: flex; flex-direction: column; width: 100%; position: absolute; top: 100%; right: 0; background-color: #3d3d3d; box-shadow: 0 4px 8px rgba(0,0,0,0.2); border-top: 1px solid #555; order: 5; z-index: 100; }
    #custom-menubtn:checked ~ .custom-t-menu li { width: 100%; }
    #custom-menubtn:checked ~ .custom-t-menu li a { line-height: 45px; border-bottom: 1px solid #505050; text-align: right; padding: 0 20px; color: #eee; }
    #custom-menubtn:checked ~ .custom-t-menu li:last-child a { border-bottom: none; }
    #custom-menubtn:checked ~ .custom-t-menu li ul.custom-drop { position: static; display: block !important; background-color: transparent; box-shadow: none; padding: 0; border-radius: 0; border-top: 1px solid #505050; }
    #custom-menubtn:checked ~ .custom-t-menu li ul.custom-drop li a { color: #ccc; padding: 0 30px; line-height: 40px; font-size: 0.85em; border-bottom: none; }
}
@media screen and (max-width: 768px) {
  .custom-menu-inner { min-height: 50px; justify-content: space-between; flex-wrap: nowrap; padding: 0 5px; }
  .custom-smallogo { order: 1; margin-left: 5px; padding: 0 5px; font-size: 0.9em; line-height: 50px; flex-shrink: 0; }
  #custom-user-area { order: 2; padding: 0; flex-shrink: 1; overflow: hidden; margin: 0 5px; }
  #custom-search-area { order: 3; margin-right: 0; margin-left: 5px; }
  .custom-menublabel { order: 4; margin-right: 0; padding: 8px; }

  #custom-user-area .user-links-logged-out { flex-wrap: nowrap; }
  #custom-user-area .login-input { width: 75px; height: 28px; font-size: 11px; margin-left: 3px; padding: 4px 6px;}
  #custom-user-area .login-button, #custom-user-area .user-links-logged-out a.register-link { height: 28px; padding: 0 6px; font-size: 11px; line-height: 28px; }
  #custom-user-area .autologin-label { display: none; }

  #custom-user-area .user-info-logged-in .user-summary { margin-left: 0; }
  #custom-user-area .user-info-logged-in .user-name { font-size: 12px; margin-left: 3px; }
  .user-avatar-small, .user-avatar-small-icon { width: 20px; height: 20px; margin-left: 5px; }
  .user-pm-link, .user-logout-link { font-size: 13px; margin-left: 5px; padding: 3px; }
  .user-pm-link .pm-count { font-size: 9px; padding: 0px 3px; top: -2px; right: -3px; min-width: 12px; }
  .dropdown-trigger { padding: 8px 3px 8px 5px; margin-left: 0; }
  #user-dropdown { min-width: 180px; left: auto; right: 0; transform: none; }

  #custom-search-trigger a { line-height: 50px; padding: 0 8px; }
  #custom-search-inline { padding: 5px; left: auto; right: 100%; transform: translate(0, -50%); }
  #custom-search-inline.active { right: 0; }
  #custom-search-text-inline { width: calc(100vw - 100px); max-width: 150px; height: 28px; font-size: 12px;}
  #custom-search-inline button { height: 28px; padding: 0 8px; }
  #custom-search-inline button#close-inline-search { font-size: 16px; padding: 0 4px; }

  .custom-header-inner { text-align: center; }
  .custom-title a { font-size: 1.8em; }
}
@media screen and (max-width: 550px) {
     #custom-user-area .login-input { width: 65px; }
     #custom-user-area .user-links-logged-out a.register-link { display: none; }
     #custom-search-text-inline { max-width: 120px; }
}
@media screen and (max-width: 480px) {
    .custom-smallogo { display: none; }
    .custom-menu-inner { justify-content: flex-end; }
    #custom-user-area { order: 1; margin-right: 5px; flex-grow: 1; }
    #custom-search-area { order: 2; flex-shrink: 0; }
    .custom-menublabel { order: 3; }
    #custom-user-area .user-links-logged-out { width: 100%; justify-content: center; flex-wrap: wrap; }
    #custom-user-area .login-input { width: calc(50% - 35px); margin-bottom: 3px; }
    #custom-user-area .login-button { width: calc(50% - 10px); margin-left: 0; margin-bottom: 3px; }
    #custom-user-area .autologin-label { display: none; }
    #custom-user-area .user-info-logged-in .user-name { max-width: 80px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; display: inline-block; vertical-align: middle;}
    .user-avatar-small, .user-avatar-small-icon { margin-left: 3px; }
    .user-pm-link, .user-logout-link { margin-left: 3px; }
    #custom-search-text-inline { width: calc(100vw - 110px); max-width: 100px; }
}


/* ============================================ */
/* == Fin des Styles V6 == */
/* ============================================ */




...............


/* --- استيراد الخطوط المستخدمة --- */
/* FontAwesome ضروري للأيقونات ويُفترض تحميله */
@font-face {
  font-family: Almarai;
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Almarai'), local('Almarai-Regular'), url(https://fonts.gstatic.com/s/almarai/v2/tsstApxBaigK_hnnQ1iFo0C3.woff2) format('woff2');
  unicode-range: U+0600-06FF, U+200C-200E, U+2010-2011, U+204F, U+2E41, U+FB50-FDFF, U+FE80-FEFC;
} /* End @font-face */
/* الخطوط الأخرى المستخدمة: droid arabic kufi, georgia, tahoma, arial */

/* --- تعريف متغيرات الألوان (للتوافق مع الملف الأصلي) --- */
/* استبدل القيم بالافتراضية أو بقيم قالبك الفعلية */
/* --- !!! تم تعليق هذا الجزء لأنه مكرر وغير مستخدم بواسطة نظام V6 !!! --- */
/*
:root {
  --maincolor: #446FAA;
  --subcolor: #444444;
  --hocolor: #FC5400;
  --linkcolor: #3e5b7e;
  --bordcolor: #cccccc;
}
*/

/* --- تنسيقات أساسية ومُعاد تعيينها --- */
/* --- !!! تم تعليق هذا الجزء لأنه مكرر ومُعالج بشكل أفضل في body#phpbb !!! --- */
/*
body {
  font-family: "droid arabic kufi", georgia, sans-serif;
  color: #555;
}
*/

/* --- !!! تم تعليق هذا الجزء الخاص بـ a لأنه مُعالج بشكل أفضل ومتناسق في القسم 2 !!! --- */
/*
a {
  color: var(--linkcolor);
  text-decoration: none;
  transition: all 0.7s ease 0s;
}
a:hover {
  color: #000;
}
*/

.widget ul, .widget li { /* لإزالة أي تنسيقات قائمة افتراضية */
  margin: 0;
  padding: 0;
  list-style: none;
} /* End .widget ul, .widget li */

.blog-posts { /* حاوية رئيسية للمواضيع */
  /* يمكن إضافة padding أو margin هنا إذا لزم الأمر */
} /* End .blog-posts */

/* إخفاء عناصر غير موجودة في المثال ولكن قد تكون في القالب */
.date-outer, .date-posts {
    /* لا تحتاج لتنسيق مرئي عادةً */
} /* End .date-outer, .date-posts */

.jadeed {
   display: none;
} /* End .jadeed */

/* --- تنسيق حاوية الموضوع الرئيسية (.post-home) --- */
/* --- !!! هذا الجزء خاص بقالب بلوجر، قد لا ينطبق على Forumotion بنفس الشكل !!! --- */
/* --- يمكنك الاحتفاظ به إذا كنت تستخدم نظام مقالات مشابه أو حذفه --- */
.post-home {
  background-color: var(--content-bg-color); /* يستخدم لون خلفية المحتوى */
  box-shadow: 0 0 0 1px var(--border-color);  /* يستخدم لون حدود الثيم */
  float: right;
  height: 300px;
  margin-bottom: 20px;
  margin-left: 12px;
  overflow: hidden;
  position: relative;
  width: 318px;
  box-sizing: border-box;
} /* End .post-home */

/* --- تنسيق منطقة الصورة المصغرة (.thumcont) --- */
.thumcont {
  border-bottom: 1px solid var(--border-color); /* يستخدم لون حدود الثيم */
  height: 150px;
  overflow: hidden;
  position: relative;
  width: 100%;
  background-color: #e9e9e9; /* لون خلفية احتياطي فاتح */
} /* End .thumcont */
body.dark-mode .thumcont {
    background-color: #3e444c; /* لون خلفية احتياطي داكن */
    border-bottom: 1px solid var(--dark-border);
}

/* رابط الصورة المصغرة (Placeholder إذا لم توجد صورة) */
.thnoimg {
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 1;
  background-color: var(--secondary-color); /* يستخدم اللون الثانوي */
} /* End .thnoimg */
body.dark-mode .thnoimg {
  background-color: var(--dark-secondary);
}

/* أيقونة الصورة الافتراضية (إذا كان .thnoimg مستخدم) */
.thnoimg::before {
  color: var(--menu-text-color); /* يستخدم لون نص القائمة */
  content: "\f030";
  display: block;
  font-size: 60px;
  line-height: 150px;
  font-family: 'Font Awesome 5 Pro', FontAwesome;
  text-align: center;
  width: 100%;
  height: 100%;
} /* End .thnoimg::before */
body.dark-mode .thnoimg::before {
    color: var(--dark-menu-text);
}

/* حاوية الصورة الفعلية */
.thumbin {
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 2;
} /* End .thumbin */

/* الصورة نفسها */
.thumcont img {
  display: block;
  height: 100%;
  width: 100%;
  object-fit: cover;
  transition: all 0.7s ease 0s;
} /* End .thumcont img */

/* تأثير المرور على الصورة */
.post-home:hover .thumcont img {
  opacity: 0.5;
  transform: scale(1.3);
} /* End .post-home:hover .thumcont img */

/* --- تنسيق أزرار المشاركة (.sharebuto) --- */
.sharebuto {
  background-color: rgba(255, 255, 255, 0.7);
  border-radius: 2px 0 0;
  bottom: 0;
  box-shadow: -1px -1px 1px rgba(0,0,0,0.1);
  list-style: none;
  margin: 0;
  padding: 3px !important;
  position: absolute;
  right: 0;
  z-index: 99;
  display: flex;
  gap: 2px;
} /* End .sharebuto */
body.dark-mode .sharebuto {
    background-color: rgba(45, 51, 59, 0.7); /* #2d333b */
    box-shadow: -1px -1px 1px rgba(0,0,0,0.2);
}

.sharebuto li {
  padding: 0;
} /* End .sharebuto li */

.sharebuto a {
  color: #fff;
  display: block;
  height: 20px;
  width: 20px;
  line-height: 20px;
  text-align: center;
  font-size: 12px;
  font-family: 'Font Awesome 5 Pro', FontAwesome;
  text-decoration: none !important;
  border-bottom: none !important;
} /* End .sharebuto a */

.sharebuto a:hover {
  background-color: var(--secondary-color) !important;
  text-decoration: none !important;
} /* End .sharebuto a:hover */
body.dark-mode .sharebuto a:hover {
    background-color: var(--dark-secondary) !important;
}

/* ألوان خلفيات الأزرار */
.sharebuto .fa.fa-facebook { background-color: #3b5998; } /* لون فيسبوك */
.sharebuto .fa.fa-twitter { background-color: #1DA1F2; } /* لون تويتر */
.sharebuto .fa.fa-google-plus { background-color: #db4437; } /* لون جوجل+ */

/* --- تنسيق منطقة النص (العنوان والملخص) --- */
.post-home .title-summ { /* حاوية للنص للتأكد من الـ padding */
    padding: 5px 10px 10px 10px;
}

/* العنوان */
.ptitle {
  display: block;
  line-height: 1.7em; /* تعديل طفيف */
  margin: 5px 0 8px 0; /* تعديل الهوامش */
  text-align: center;
  font-size: 15px;
  color: var(--link-color); /* يستخدم لون رابط الثيم */
  font-weight: bold; /* جعله سميك */
  text-decoration: none !important;
  border-bottom: none !important;
} /* End .ptitle */

.ptitle:hover {
  color: var(--primary-color); /* يستخدم لون الثيم الأساسي عند المرور */
  text-decoration: underline !important;
} /* End .ptitle:hover */

/* الملخص */
.post-snippet {
  font: 13px/1.8em Tahoma, sans-serif; /* تعديل الخط والحجم */
  margin: 0; /* إزالة الهامش الافتراضي */
  text-align: center;
  color: var(--text-color); /* يستخدم لون نص الثيم */
  max-height: 5.4em; /* 3 أسطر */
  overflow: hidden;
} /* End .post-snippet */

/* --- تنسيق الشريط السفلي (.labandcomm) --- */
.labandcomm {
  background-color: var(--content-bg-color); /* نفس لون خلفية المحتوى */
  border-top: 1px solid var(--border-color); /* يستخدم لون حدود الثيم */
  bottom: 0;
  font-size: 12px;
  height: 30px;
  line-height: 30px;
  position: absolute;
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background-color 0.3s ease, border-color 0.3s ease;
} /* End .labandcomm */
body.dark-mode .labandcomm {
    background-color: var(--dark-content-bg);
    border-top: 1px solid var(--dark-border);
}

/* منطقة التصنيفات/الوسوم */
.labelsmm {
 /* padding-right: 5px;*/
  display: flex;
  align-items: center;
  color: var(--text-color); /* يرث لون النص */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-shrink: 1;
  margin-left: 5px; /* مسافة من فقاعة التعليقات */
} /* End .labelsmm */
body.dark-mode .labelsmm {
    color: var(--dark-text);
}

/* أيقونة التصنيفات */
/*.labelsmm::before*/ {
  content: "\f02c";
  font-family: 'Font Awesome 5 Pro', FontAwesome;
  font-size: 14px; /* تصغير الأيقونة قليلاً */
  margin-left: 4px;
  color: inherit; /* يرث اللون من .labelsmm */
  flex-shrink: 0;
} /* End .labelsmm::before */

/* روابط التصنيفات */
.labelsmm a {
  color: var(--link-color); /* لون رابط الثيم */
  margin-left: 4px; /* تعديل المسافة */
  text-decoration: none !important;
  border-bottom: none !important;
} /* End .labelsmm a */

.labelsmm a:hover {
  color: var(--primary-color); /* لون الثيم الأساسي عند المرور */
  text-decoration: underline !important;
} /* End .labelsmm a:hover */
body.dark-mode .labelsmm a {
    color: var(--dark-link);
}
body.dark-mode .labelsmm a:hover {
    color: #79c0ff;
}


/* فقاعة عدد التعليقات */
.comment-bubble {
  background-color: var(--secondary-color); /* يستخدم اللون الثانوي */
  color: var(--menu-text-color); /* يستخدم لون نص القائمة */
  font-family: arial, sans-serif;
  font-size: 12px;
  height: 30px;
  width: 55px; /* تصغير العرض قليلاً */
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  text-decoration: none !important;
  transition: background-color 0.3s ease, color 0.3s ease;
  flex-shrink: 0;
  border-bottom: none !important;
} /* End .comment-bubble */
body.dark-mode .comment-bubble {
    background-color: var(--dark-secondary);
    color: var(--dark-menu-text);
}

.comment-bubble:hover {
  background-color: var(--primary-color); /* لون الثيم الأساسي عند المرور */
  color: var(--header-text-color) !important;
  text-decoration: none !important;
} /* End .comment-bubble:hover */
body.dark-mode .comment-bubble:hover {
    background-color: var(--dark-primary);
    color: var(--dark-bg) !important;
}

/* أيقونة التعليقات */
.comment-bubble::before {
  content: "\f086";
  font-family: 'Font Awesome 5 Pro', FontAwesome;
  font-size: 14px; /* تصغير الأيقونة */
  margin-right: 3px;
} /* End .comment-bubble::before */

/* السهم الجانبي لفقاعة التعليقات */
.comment-bubble::after {
  content: "\f0da";
  font-family: 'Font Awesome 5 Pro', FontAwesome;
  font-size: 22px;
  color: var(--secondary-color); /* يطابق الخلفية */
  position: absolute;
  right: -7px;
  top: 50%;
  transform: translateY(-50%);
  transition: color 0.3s ease;
} /* End .comment-bubble::after */
body.dark-mode .comment-bubble::after {
    color: var(--dark-secondary);
}

.comment-bubble:hover::after {
  color: var(--primary-color); /* يطابق الخلفية عند المرور */
} /* End .comment-bubble:hover::after */
body.dark-mode .comment-bubble:hover::after {
    color: var(--dark-primary);
}


/* --- تأثيرات الحركة (اختياري، يعتمد على wow.js) --- */
@keyframes fadeInUp {
  0% {opacity: 0;transform: translateY(20px);}
  100% {opacity: 1;transform: translateY(0);}
} /* End @keyframes fadeInUp */

.fadeInUp {
  animation-duration: 1s;
  animation-fill-mode: both;
  animation-name: fadeInUp;
} /* End .fadeInUp */

/* --- تنسيقات تجاوبية (للتأكد من عملها على شاشات مختلفة) --- */
@media screen and (max-width : 680px) { /* Start Media Query 680px */
  #main-wrapper { /* إذا كان هذا هو الحاوي */
      float: none;
      margin: 0 auto;
      width: 98%;
      max-width: 600px;
  } /* End #main-wrapper */
  .post-home {
      width: 100%;
      margin-left: 0;
      height: auto;
      min-height: 280px; /* تقليل الارتفاع الأدنى */
  } /* End .post-home */
} /* End Media Query 680px */

@media screen and (max-width : 420px) { /* Start Media Query 420px */
  .thumcont {
     /* height: 150px; */
  } /* End .thumcont */
} /* End Media Query 420px */

/* --- !!! تم دمج إلغاء الخط في قاعدة a الرئيسية أعلاه !!! --- */
/*
a,
a:link,
a:visited,
a:hover,
a:active {
  text-decoration: none !important;
  border-bottom: none !important;
}
*/


/* --- التنسيق الأساسي للفوتر (للوضع الطبيعي غير الثابت) --- */
.credit {
  background-color: var(--primary-color); /* يستخدم اللون الأساسي */
  color: var(--header-text-color, #fff); /* يستخدم لون نص الهيدر */
  font-size: 12px;
  height: 30px;
  line-height: 30px;
  overflow: hidden;
  text-align: center;
  width: 100%;
  clear: both;
  margin-top: 20px;
  transition: background-color 0.5s ease, color 0.5s ease;
}

/* --- تنسيق الحاوية الداخلية (.increk) --- */
.increk {
  width: 100%;
  max-width: 980px;
  margin: 0 auto;
  position: relative;
}

/* --- تنسيق رابط الحقوق --- */
#oncn a {
  /* اللون يرثه تلقائياً */
  text-decoration: underline !important;
  border-bottom: none !important;
}
#oncn a:hover {
  color: rgba(255, 255, 255, 0.8);
}

/* --- إضافة: تطبيق ألوان الوضع الليلي صراحة للفوتر --- */
body#phpbb.dark-mode .credit {
    background-color: var(--dark-primary); /* استخدام متغير الوضع الليلي الأساسي */
    color: var(--dark-header-text);       /* استخدام متغير نص الوضع الليلي */
}
/* تعديل لون رابط الحقوق في الوضع الليلي */
body#phpbb.dark-mode .credit #oncn a {
    color: var(--dark-header-text); /* جعله يطابق لون نص الفوتر */
}
body#phpbb.dark-mode .credit #oncn a:hover {
    color: rgba(205, 217, 229, 0.8); /* مثال: جعل لون النص الليلي أفتح قليلاً عند المرور */
}
/* --- نهاية الإضافة --- */

/* --- !!! تم حذف القواعد الخاصة بكل ستايل للفوتر لأنها غير ضرورية مع استخدام المتغيرات !!! --- */
/*
body.prosilver .credit { ... }
body.subsilver2 .credit { ... }
body.invision .credit { ... }
body.dark-theme-class .credit { ... }
body.light-theme-class .credit { ... }
*/


.comment-bubble::before {
    content: "\f086";
    font-family: 'Font Awesome 5 Pro', FontAwesome;
    font-size: 14px;
    margin-right: 3px;
    margin-left: 10px;
}

i.material-icons img {
  height: 25px;
  width: 25px;
  border-radius: 50%;   /* يجعل الزوايا دائرية تمامًا لتشكيل دائرة */
  object-fit: cover;    /* يضمن ملء الصورة للمساحة دون تشويه وقص الزائد */
  display: block;       /* يضمن أن تأخذ الصورة المساحة ككتلة ويمنع مسافات سفلية غير مرغوبة */
  /* يمكنك أيضاً إضافة vertical-align: middle; إذا كان العنصر i يستخدم كـ inline-block للتحكم بالمحاذاة الرأسية */
  /* vertical-align: middle; */
}

span.labelsmm a.last-post-icon {
    display: none;
}
span.labelsmm strong a.gensmall span.color-groups strong {
    float: inline-end;
}
span.commmment-bubble::after {
    content: "\f0d9";
    font-family: 'Font Awesome 5 Pro', FontAwesome;
    font-size: 22px;
    color: var(--secondary-color);
    position: absolute;
    right: 53px;
    top: 50%;
    transform: translateY(-50%);
    transition: color 0.3s ease;
    font-weight: 900;
}
**********************

/* --- Comprehensive Poll Styling for AhlaMontada/PHPBB (Full HTML Context) --- */

/* Main block containing the poll */
.block.block-big {
    margin-bottom: 25px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
    overflow: hidden;
    background: #f3f8fb;
    border: 1px solid #dff1fb;
    padding: 10px;
}

/* Poll header styling */
.block.block-big .block-header {
    background-color: #282828; /* Header background slightly different or same */
    padding: 12px 18px;
    border-bottom: 1px solid #383838;
    display: flex;
    align-items: center;
    justify-content: space-between; /* Distribute space for title and delete icon */
}

.block.block-big .block-header h2 {
    margin: 0;
    font-size: 1.3em; /* Adjust title size */
    color: #00A2E8; /* Blue accent color for title */
    font-weight: 600;
    display: flex;
    align-items: center;
}

.block.block-big .block-header h2 .material-icons {
    font-size: 1.2em; /* Icon size relative to text */
    margin-right: 8px; /* Space between icon and text (for LTR, use margin-left) */
    color: #00A2E8; /* Icon color */
    vertical-align: middle;
}
.block.block-big .block-header h2 span:not(:first-child) { /* Target the title text */
    color: #e0e0e0; /* Light text for the title string */
}


/* Delete icon styling in header */
.block.block-big .block-header a {
    color: #999999; /* Grey for delete icon */
    text-decoration: none;
    transition: color 0.2s ease;
}
.block.block-big .block-header a:hover {
    color: #E91E63; /* Red or accent color on hover for delete */
}
.block.block-big .block-header a .material-icons {
    font-size: 1.4em; /* Adjust icon size */
    vertical-align: middle;
}

/* Poll content area (form and results link) */
.block .block-content {
    background-color: #f3f8fb;
    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1), 0 0 2px rgba(0, 0, 0, 0.1);
    border-radius: 3px;
    padding: 12px 16px 8px;
}


/* Poll form itself */
.poll {
    /* No need for extra background/border if .block-content handles it */
    margin-bottom: 0; /* Remove margin if inside padded .block-content */
}

/* Styling for each poll option wrapper (label) */
.poll .radio-wrap label {
    display: flex
;
    align-items: center;
    cursor: pointer;
    width: 100%;
    font-size: 1em;
    color: #ccc;
    padding: 12px 15px;
    /* background-color: #5b5b5b; */
    background-color: var(--primary-color, #446FAB);
    border: 1px solid #484848;
    border-radius: 6px;
    margin-bottom: 10px;
    transition: background-color .2s ease, border-color .2s ease, box-shadow .2s ease;
}

.poll .radio-wrap label:hover {
    background-color: #3A3A3A;
    border-color: #00A2E8;
    box-shadow: 0 0 8px rgba(0, 162, 232, 0.3);
}

/* Styling when the option is selected (using :has() for modern browsers) */
.poll .radio-wrap label:has(input[type="checkbox"]:checked) {
    background-color: #224053; /* Darker blue when option is selected */
    border-color: #00A2E8;
    color: #ffffff; /* Brighter text for selected option */
    font-weight: 500;
}
.poll .radio-wrap label:has(input[type="checkbox"]:checked) .radio {
    background-color: #00A2E8; /* Blue background for the custom checkbox box */
    border-color: #007bb5;
}


/* Hide the default checkbox */
.poll .radio-wrap input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

/* The custom checkbox visual container (the span.radio) */
.poll .radio-wrap label .radio {
    display: inline-block;
    position: relative;
    width: 20px;
    height: 20px;
    background-color: #c9c6c6;
    border: 1px solid #c1bebe;
    border-radius: 4px;
    margin-left: 12px;
    transition: background-color .2s ease, border-color .2s ease;
    flex-shrink: 0;
}

/* The checkmark style (the span.radio-check) */
.poll .radio-wrap label .radio .radio-check {
    display: block;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23FFFFFF' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'%3E%3C/polyline%3E%3C/svg%3E");
    background-size: 0%; /* Hidden by default by making size 0 */
    background-repeat: no-repeat;
    background-position: center;
    transition: background-size 0.2s ease;
}

/* Show checkmark when checkbox is checked */
.poll .radio-wrap input[type="checkbox"]:checked + .radio-check {
    background-size: 70%; /* Show checkmark */
}

/* Text of the poll option */
.poll .radio-wrap label span:last-of-type { /* Target the text span more reliably */
    flex-grow: 1;
}

/* Styling for the buttons */
.poll input[type="submit"].btn.btn-default,
.poll a.btn.btn-flat {
    background-color: #00A2E8;
    color: white;
    border: 1px solid #007bb5;
    border-radius: 5px;
    text-decoration: none;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.1s ease;
    font-size: 0.95em;
    display: inline-block; /* Ensure proper spacing and margin */
}

.poll input[type="submit"].btn.btn-default:hover,
.poll a.btn.btn-flat:hover {
    background-color: #007bb5;
    border-color: #005b8f;
    transform: translateY(-1px);
}

.poll input[type="submit"].btn.btn-default {
    /* Primary button specific, if any */
}

.poll a.btn.btn-flat { /* "استعرض النتائج" button */
    background-color: #555555;
    border-color: #444444;
    margin-right: 10px; /* Space between buttons */
}

.poll a.btn.btn-flat:hover {
    background-color: #636363;
    border-color: #505050;
}

/* Placeholder for vote expiration message */
#vote_expire {
    margin-top: 15px;
    font-size: 0.9em;
    color: #888888;
    text-align: center;
}
a.btn.btn-flat {
   
}
a.btn.btn-flat {
    background-size: 200% 100%;
    background-image: linear-gradient(to right, var(--primary-color, #007bff) 0%, var(--accent-color, #ff6b6b) 50%, /* لون تمييز أو لون ثانوي */ var(--primary-color, #007bff) 100%);
    color: var(--header-text-color, #ffffff);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transition: background-position 0.5s ease-in-out, transform 0.2s ease, box-shadow 0.2s ease;
    padding: 10px 20px;
    border-radius: 5px;
    text-decoration: none;
    cursor: pointer;
    font-weight: 700;
    transition: background-color .2s ease, border-color .2s ease, transform .1s ease;
    margin-top: 20px;
    font-size: .95em;
    display: inline-block;
    line-height: 1.5;
}
.block-header, .block-minorHeader {
    background-size: 200% 100%;
    background-image: linear-gradient(to right, var(--primary-color, #007bff) 0%, var(--accent-color, #ff6b6b) 50%, /* لون تمييز أو لون ثانوي */ var(--primary-color, #007bff) 100%);
    color: var(--header-text-color, #ffffff);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    transition: background-position 0.5s ease-in-out, transform 0.2s ease, box-shadow 0.2s ease;
}



/* ========================================= */
/* == تخصيص شريط التمرير (Scrollbar) == */
/* ========================================= */
.commmment-bubble {
    background-color: var(--secondary-color);
    color: var(--menu-text-color);
    font-family: arial, sans-serif;
    font-size: 12px;
    height: 30px;
    width: 55px;
    display: flex
;
    align-items: center;
    justify-content: center;
    position: relative;
    text-decoration: none !important;
    transition: background-color 0.3s ease, color 0.3s ease;
    flex-shrink: 0;
    border-bottom: none !important;
}

/* --- الوضع النهاري (الافتراضي) --- */

/* لأغلب المتصفحات (Chrome, Edge, Safari, Opera) */
::-webkit-scrollbar {
  width: 10px; /* عرض شريط التمرير */
  height: 10px; /* ارتفاع شريط التمرير (للأفقي) */
}

::-webkit-scrollbar-track {
  background: #f1f1f1; /* لون خلفية المسار (فاتح) */
  border-radius: 5px; /* حواف دائرية للمسار (اختياري) */
}

::-webkit-scrollbar-thumb {
  background: #1d4e89; /* لون المقبض (الأزرق الداكن من الموقع) */
  border-radius: 5px; /* حواف دائرية للمقبض (اختياري) */
  border: 2px solid #f1f1f1; /* إضافة حدود بلون المسار لإعطاء مسافة */
}

::-webkit-scrollbar-thumb:hover {
  background: #133a6a; /* لون المقبض عند تمرير الماوس (أزرق أغمق) */
}

/* لمتصفح Firefox */
/* يتم تطبيق هذا على العنصر html أو body */
html {
  scrollbar-width: thin; /* عرض الشريط: thin أو auto */
  scrollbar-color: #1d4e89 #f1f1f1; /* لون المقبض ثم لون المسار */
}


/* --- الوضع الليلي --- */
/* نفترض وجود كلاس اسمه 'dark-mode' يتم إضافته للعنصر body> أو html> عند تفعيل الوضع الليلي */

/* لأغلب المتصفحات (Chrome, Edge, Safari, Opera) */
body.dark-mode ::-webkit-scrollbar-track,
html.dark-mode ::-webkit-scrollbar-track {
  background: #343a40; /* لون خلفية المسار (داكن) */
}

body.dark-mode ::-webkit-scrollbar-thumb,
html.dark-mode ::-webkit-scrollbar-thumb {
  background: #6c757d; /* لون المقبض (رمادي متوسط) */
  border-color: #343a40; /* تغيير لون الحدود لتناسب المسار الداكن */
}

body.dark-mode ::-webkit-scrollbar-thumb:hover,
html.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: #adb5bd; /* لون المقبض عند تمرير الماوس (رمادي أفتح) */
}

/* لمتصفح Firefox */
html.dark-mode,
body.dark-mode { /* استهداف العنصر الذي يحمل الكلاس */
  scrollbar-color: #6c757d #343a40; /* لون المقبض ثم لون المسار للوضع الليلي */
}

/* يمكنك إزالة body.dark-mode أو html.dark-mode إذا كان الكلاس يطبق على العنصر الآخر فقط */

span.labelsmm strong a.gensmall span.color-groups strong, .material-icons img {
    margin-left: 10px;
    margin: 0 auto 0 auto;
    margin-right: 10px;
}
.labandcomm {
    background-color: #eee;
    border-top: 1px solid #ddd;
    bottom: 0;
    font-size: 12px;
    height: 30px;
    line-height: 30px;
    position: absolute;
    width: 100%;
}
ul#sidebar h2.title {
    font-size: 14px;
}


***************************************************
#sidebar h2 { background-color: var(--main-color); color: var(--menu-text-color); }
  #sidebar h2::before { background-color: var(--hocolor); }
  #sidebar h2::after { color: var(--main-color); }

#sidebar h2::before { background-color: var(--hocolor); content: "\f1cb";     font-family: 'Font Awesome 5 Pro', FontAwesome; display: block; position: absolute; font: 24px/34px fontawesome; height: 34px; width: 34px; } /* Use variable */
#sidebar h2::after { color: var(--main-color); content: "\f0dd"; display: block;    font-family: 'Font Awesome 5 Pro', FontAwesome; font: 30px fontawesome; margin-top: -22px; position: absolute; width: 100%; -webkit-margin-before: -19px; } /* Use variable */
#sidebar h2 { background-color: var(--main-color); color: var(--menu-text-color); font-size: 14px; height: 34px; line-height: 34px; margin: 0 0 15px 0; position: relative; text-align: center; } /* Use variables */

/* ============================================ */
/* == تنسيق عناوين الشريط الجانبي (مثل بلوجر) == */
/* == مع تنسيق الروابط الداخلية             == */
/* ============================================ */

/* استهداف عناوين المستوى الثاني داخل الشريط الجانبي */
#sidebar h2{
    /* --- الألوان الأساسية والتكيف مع الوضع الليلي --- */
    background-color: var(--primary-color); /* اللون الأساسي للمنتدى للخلفية */
    color: var(--header-text-color);       /* لون النص (الافتراضي) المستخدم فوق الخلفيات الأساسية */

    /* --- الأبعاد والحشو --- */
  
    /* --- انتقالات سلسة --- */
    transition: background-color 0.3s ease, color 0.3s ease;
}
#sidebar h2::after {
    /* --- الألوان الأساسية والتكيف مع الوضع الليلي --- */
    color: var(--primary-color); /* اللون الأساسي للمنتدى للخلفية */


    /* --- الأبعاد والحشو --- */
  
    /* --- انتقالات سلسة --- */
    transition: color 0.3s ease, color 0.3s ease;
}
/* إنشاء الشريط البرتقالي على اليمين */
ul#sidebar {
    width: 100%;
}

/* إنشاء المثلث "القاطع" بين الأزرق والبرتقالي */

/* --- !!! تعديل هام: تنسيق الروابط داخل H2 !!! --- */

/* استهداف أي رابط a> داخل #sidebar h2 */
#sidebar h2 a {
    /* جعل لون الرابط نفس لون النص الافتراضي للعناوين (لضمان التباين مع الخلفية الزرقاء) */
    color: var(--header-text-color);

    /* إضافة خط أسفل الرابط لتمييزه بشكل أوضح */
    text-decoration: none !important; /* استخدام !important للتأكيد إذا لزم الأمر */
    border-bottom: none !important; /* إلغاء أي حدود سفلية أخرى */

    /* انتقال سلس للون عند المرور (إذا أضفنا حالة hover) */
    transition: color 0.2s ease, opacity 0.2s ease;
}

/* تنسيق الرابط عند مرور الماوس فوقه */
#sidebar h2 a:hover {
    /* يمكن تغيير اللون قليلاً عند المرور، مثلاً جعله أفتح قليلاً */
    /* أو استخدام opacity لجعله باهتًا قليلاً */
    opacity: 0.85;
    /* أو تغيير اللون إلى لون آخر يتناسب، مثل: */
    /* color: var(--accent-color); */ /* قد يكون البرتقالي جيدًا هنا */

    /* التأكيد على عدم وجود خط سفلي إضافي غير الـ text-decoration */
    border-bottom: none !important;
}

/* --- نهاية تعديل تنسيق الروابط --- */


/* --- (اختياري) إزالة أي أيقونات FontAwesome قد تكون موجودة تلقائيًا من ::before في ستايلات أخرى --- */
/*
#sidebar h2::before {
    font-family: inherit;
    content: '';
}
*/
/* ============================================ */
/* == إزالة الخط السفلي من جميع الروابط نهائياً == */
/* ============================================ */

a,
a:link,
a:visited,
a:hover,
a:active {
    text-decoration: none !important; /* يزيل خط النص القياسي */
    border-bottom: none !important;   /* يضمن إزالة أي حدود سفلية قد تبدو كخط */
}
#sidebar h2::before {
    background-color: rgba(255, 255, 255, 0.15);
}






/* ========================================= */
/* == تخصيص شريط التمرير (Scrollbar) == */
/* ========================================= */
.commmment-bubble {
    background-color: var(--secondary-color);
    color: var(--menu-text-color);
    font-family: arial, sans-serif;
    font-size: 12px;
    height: 30px;
    width: 55px;
    display: flex
;
    align-items: center;
    justify-content: center;
    position: relative;
    text-decoration: none !important;
    transition: background-color 0.3s ease, color 0.3s ease;
    flex-shrink: 0;
    border-bottom: none !important;
}
#sidebar, #sidebar-left {
    width: 320px;
}
span.label-icon-box .fa-tag:before{
    background-color: rgba(255, 255, 255, 0.15);
    float: right;
    font: 16px / 30px fontawesome;
    height: 30px;
    
    text-align: center;
    width: 30px;
}

/* --- الوضع النهاري (الافتراضي) --- */
#page-footer {
    background-color: #;
  
}
/* لأغلب المتصفحات (Chrome, Edge, Safari, Opera) */
::-webkit-scrollbar {
  width: 10px; /* عرض شريط التمرير */
  height: 10px; /* ارتفاع شريط التمرير (للأفقي) */
}

::-webkit-scrollbar-track {
  background: #f1f1f1; /* لون خلفية المسار (فاتح) */
  border-radius: 5px; /* حواف دائرية للمسار (اختياري) */
}

::-webkit-scrollbar-thumb {
  background: #1d4e89; /* لون المقبض (الأزرق الداكن من الموقع) */
  border-radius: 5px; /* حواف دائرية للمقبض (اختياري) */
  border: 2px solid #f1f1f1; /* إضافة حدود بلون المسار لإعطاء مسافة */
}

::-webkit-scrollbar-thumb:hover {
  background: #133a6a; /* لون المقبض عند تمرير الماوس (أزرق أغمق) */
}

/* لمتصفح Firefox */
/* يتم تطبيق هذا على العنصر html أو body */
html {
  scrollbar-width: thin; /* عرض الشريط: thin أو auto */
  scrollbar-color: #1d4e89 #f1f1f1; /* لون المقبض ثم لون المسار */
}


/* --- الوضع الليلي --- */
/* نفترض وجود كلاس اسمه 'dark-mode' يتم إضافته للعنصر body> أو html> عند تفعيل الوضع الليلي */

/* لأغلب المتصفحات (Chrome, Edge, Safari, Opera) */
body.dark-mode ::-webkit-scrollbar-track,
html.dark-mode ::-webkit-scrollbar-track {
  background: #343a40; /* لون خلفية المسار (داكن) */
}

body.dark-mode ::-webkit-scrollbar-thumb,
html.dark-mode ::-webkit-scrollbar-thumb {
  background: #6c757d; /* لون المقبض (رمادي متوسط) */
  border-color: #343a40; /* تغيير لون الحدود لتناسب المسار الداكن */
}

body.dark-mode ::-webkit-scrollbar-thumb:hover,
html.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: #adb5bd; /* لون المقبض عند تمرير الماوس (رمادي أفتح) */
}

/* لمتصفح Firefox */
html.dark-mode,
body.dark-mode { /* استهداف العنصر الذي يحمل الكلاس */
  scrollbar-color: #6c757d #343a40; /* لون المقبض ثم لون المسار للوضع الليلي */
}

/* يمكنك إزالة body.dark-mode أو html.dark-mode إذا كان الكلاس يطبق على العنصر الآخر فقط */

span.labelsmm strong a.gensmall span.color-groups strong, .material-icons img {
    margin-left: 10px;
    margin: 0 auto 0 auto;
    margin-right: 10px;
}
.labandcomm {
    background-color: #eee;
    border-top: 1px solid #ddd;
    bottom: 0;
    font-size: 12px;
    height: 30px;
    line-height: 30px;
    position: absolute;
    width: 100%;
}
ul#sidebar h2.title {
    font-size: 14px;
}


***************************************************
#sidebar h2 { background-color: var(--main-color); color: var(--menu-text-color); }
  #sidebar h2::before { background-color: var(--hocolor); }
  #sidebar h2::after { color: var(--main-color); }

#sidebar h2::before { background-color: var(--hocolor); content: "\f1cb";     font-family: 'Font Awesome 5 Pro', FontAwesome; display: block; position: absolute; font: 24px/34px fontawesome; height: 34px; width: 34px; } /* Use variable */
#sidebar h2::after { color: var(--main-color); content: "\f0dd"; display: block;    font-family: 'Font Awesome 5 Pro', FontAwesome; font: 30px fontawesome; margin-top: -22px; position: absolute; width: 100%; -webkit-margin-before: -19px; } /* Use variable */
#sidebar h2 { background-color: var(--main-color); color: var(--menu-text-color); font-size: 14px; height: 34px; line-height: 34px; margin: 0 0 15px 0; position: relative; text-align: center; } /* Use variables */

/* ============================================ */
/* == تنسيق عناوين الشريط الجانبي (مثل بلوجر) == */
/* == مع تنسيق الروابط الداخلية             == */
/* ============================================ */

/* استهداف عناوين المستوى الثاني داخل الشريط الجانبي */
#sidebar h2{
    /* --- الألوان الأساسية والتكيف مع الوضع الليلي --- */
    background-color: var(--primary-color); /* اللون الأساسي للمنتدى للخلفية */
    color: var(--header-text-color);       /* لون النص (الافتراضي) المستخدم فوق الخلفيات الأساسية */

    /* --- الأبعاد والحشو --- */
  
    /* --- انتقالات سلسة --- */
    transition: background-color 0.3s ease, color 0.3s ease;
}
#sidebar h2::after {
    /* --- الألوان الأساسية والتكيف مع الوضع الليلي --- */
    color: var(--primary-color); /* اللون الأساسي للمنتدى للخلفية */


    /* --- الأبعاد والحشو --- */
  
    /* --- انتقالات سلسة --- */
    transition: color 0.3s ease, color 0.3s ease;
}
/* إنشاء الشريط البرتقالي على اليمين */
ul#sidebar {
    width: 100%;
}

/* إنشاء المثلث "القاطع" بين الأزرق والبرتقالي */

/* --- !!! تعديل هام: تنسيق الروابط داخل H2 !!! --- */

/* استهداف أي رابط a> داخل #sidebar h2 */
#sidebar h2 a {
    /* جعل لون الرابط نفس لون النص الافتراضي للعناوين (لضمان التباين مع الخلفية الزرقاء) */
    color: var(--header-text-color);

    /* إضافة خط أسفل الرابط لتمييزه بشكل أوضح */
    text-decoration: none !important; /* استخدام !important للتأكيد إذا لزم الأمر */
    border-bottom: none !important; /* إلغاء أي حدود سفلية أخرى */

    /* انتقال سلس للون عند المرور (إذا أضفنا حالة hover) */
    transition: color 0.2s ease, opacity 0.2s ease;
}

/* تنسيق الرابط عند مرور الماوس فوقه */
#sidebar h2 a:hover {
    /* يمكن تغيير اللون قليلاً عند المرور، مثلاً جعله أفتح قليلاً */
    /* أو استخدام opacity لجعله باهتًا قليلاً */
    opacity: 0.85;
    /* أو تغيير اللون إلى لون آخر يتناسب، مثل: */
    /* color: var(--accent-color); */ /* قد يكون البرتقالي جيدًا هنا */

    /* التأكيد على عدم وجود خط سفلي إضافي غير الـ text-decoration */
    border-bottom: none !important;
}

/* --- نهاية تعديل تنسيق الروابط --- */


/* --- (اختياري) إزالة أي أيقونات FontAwesome قد تكون موجودة تلقائيًا من ::before في ستايلات أخرى --- */
/*
#sidebar h2::before {
    font-family: inherit;
    content: '';
}
*/
/* ============================================ */
/* == إزالة الخط السفلي من جميع الروابط نهائياً == */
/* ============================================ */

a,
a:link,
a:visited,
a:hover,
a:active {
    text-decoration: none !important; /* يزيل خط النص القياسي */
    border-bottom: none !important;   /* يضمن إزالة أي حدود سفلية قد تبدو كخط */
}
#sidebar h2::before {
    background-color: rgba(255, 255, 255, 0.15);
}









/* --- متغيرات ألوان الستايل الأساسية من :root المنتدى (يفترض وجودها) --- */
/* :root {
    --primary-color: #446FAB;
    --secondary-color: #333333;
    --header-text-color: #ffffff;
    --menu-text-color: #ffffff;
    --dark-primary: #2d333b;
    --menu-hover-bg: #557FB9; /* لون أفتح قليلاً يمكن استخدامه للأيقونة */
    /* ... باقي متغيراتك ... */
/* } */


/* --- CSS للتبويبات المخصصة مع ألوان الستايل من :root المنتدى --- */
.custom-tabs-container {
    background-color: var(--content-bg-color, #ffffff);
    border: 1px solid var(--border-color, #cccccc);
    border-radius: 3px;
    margin-bottom: 20px;
    direction: rtl;
    font-family: var(--body-font-family, Arial, sans-serif);
    overflow: hidden;
    max-width: 350px;
    margin-left: auto;
    margin-right: auto;
}

.custom-tabs-nav {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    background-color: var(--secondary-color, #333333);
}

.custom-tabs-nav li {
    flex-grow: 1;
    text-align: center;
}

.custom-tabs-nav li a {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 12px 8px;
    text-decoration: none;
    color: var(--menu-text-color, #ffffff);
    font-size: 11px;
    font-weight: bold;
    position: relative;
    border-left: 1px solid var(--dark-border, #444c56);
    transition: background-color 0.2s ease, color 0.2s ease;
    white-space: nowrap;
}

.custom-tabs-nav li:first-child a {
    border-left: none;
}

.custom-tabs-nav li a .fa {
    margin-left: 7px;
    font-size: 15px;
}

.custom-tabs-nav li a.active-tab {
    background-color: var(--primary-color, #446FAB);
    color: var(--header-text-color, #ffffff);
    border-left-color: var(--primary-color, #446FAB);
}

.custom-tabs-nav li a.active-tab::after {
    content: "";
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 10px solid var(--primary-color, #446FAB);
    z-index: 10;
}

.custom-tab-pane {
    padding: 15px;
    display: none;
    background-color: var(--content-bg-color, #ffffff);
}

.custom-tab-pane.active-pane {
    display: block;
}

/* --- تنسيقات جديدة لعناصر التسميات باستخدام متغيرات المنتدى --- */
.styled-labels-list {
    list-style: none;
    padding: 0;
    margin: 0;
}



/* تنسيقات المحتوى الداخلي الأخرى (للشائعة والتعليقات) */
.popular-post-item, .comment-item {
    display: flex;
    align-items: flex-start;
    margin-bottom: 12px;
    padding-bottom: 12px;
    border-bottom: 1px dashed var(--border-color, #e0e0e0);
}
.popular-post-item:last-child, .comment-item:last-child {
    margin-bottom: 0; padding-bottom: 0; border-bottom: none;
}
.popular-post-thumbnail {
    width: 60px; height: 60px; min-width:60px;
    object-fit: cover; margin-left: 12px;
    border: 1px solid var(--border-color, #e0e0e0); border-radius: 2px;
}
.popular-post-title {
    font-weight: bold; color: var(--link-color, #0056b3); text-decoration: none;
    font-size: 13px; display: block; margin-bottom: 4px; line-height: 1.3;
}
.popular-post-snippet {
    font-size: 12px; color: var(--text-color-light, #444444); line-height: 1.5;
}
.comment-avatar {
    width: 40px; height: 40px; min-width: 40px;
    border-radius: 50%; margin-left: 10px;
    border: 1px solid var(--border-color, #e0e0e0);
}
.comment-author {
    font-weight: bold; font-size: 13px; color: var(--primary-color, #446FAB);
    display: block; margin-bottom: 3px;
}
.comment-text {
    font-size: 12px; color: var(--text-color, #333333); margin: 0 0 5px 0; line-height: 1.5;
}
.comment-link {
    font-size: 11px; color: var(--link-color, #0056b3); text-decoration: none;
}

.popular-post-details {
    width: 310px;
}
.popular-post-details {
    /* font-size: 12px; */
    font-weight: bold;
    white-space: nowrap;
    width: 285px;
    border: 0px solid #000000;
    overflow: hidden;
    text-overflow: ellipsis;
    line-height: 2 !important;
}
span.comment-avatar, span.comment-avatar a {
    font-size: 0;
}

span.comment-avatar {
    width: 60px;
    height: 60px;
    min-width: 60px;
    object-fit: cover;
    margin-left: 12px;
    border: 1px solid var(--border-color, #e0e0e0);
    border-radius: 2px;
}

div#wrap, div#page-body {
    margin: 0 auto 0 auto;
    padding-left: 10px;
    padding-right: 10px;
    padding-bottom: 10px;
}



span#topic-img {
  position: relative; /* مهم لجعل ::before يتمركز بالنسبة لهذا العنصر */
  display: inline-block; /* أو block، ليأخذ أبعادًا ويسمح بـ position:absolute للـ ::before بشكل صحيح */
  z-index: 1; /* للتأكد أن محتوى الـ span (إذا وجد) فوق الخلفية */
  /* أضف padding إذا كان لديك نص داخل الـ span وتريد مساحة حوله */
  /* يمكنك إضافة حدود أو خلفية للعنصر نفسه إذا أردت */
  /* border: 1px solid #ccc; */
}

span#topic-img::before {
  content: "\f030"; /* كود أيقونة الكاميرا في Font Awesome 5 */
  font-family: 'Font Awesome 5 Pro', FontAwesome; /* تأكد من تحميل هذا الخط بشكل صحيح */
  color: chocolate;
  font-size: 35px; /* حجم الأيقونة كخلفية، اجعله أكبر */

  position: absolute; /* لتحديد موضعها بشكل حر بالنسبة للعنصر الأب */
  top: 50%;           /* للتوسيط الرأسي */
  left: 50%;          /* للتوسيط الأفقي */
  transform: translate(-50%, -50%); /* لضبط التوسيط بشكل دقيق */

  z-index: -1;        /* هذا هو المفتاح! يضع العنصر الزائف خلف محتوى العنصر الأب */
  opacity: 0.4;       /* اختياري: لجعلها تبدو كعلامة مائية أو خلفية باهتة */
                      /* يمكنك زيادة القيمة لجعلها أوضح، أو 1 للوضوح الكامل */
}





/* --- بداية كود المجلة المخصص --- */

.custom-magazine-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* 3 أعمدة بشكل افتراضي */
    gap: 20px;
    padding: 20px;
    max-width: 1200px;
    margin: 20px auto;
    direction: rtl;
}

@keyframes slideInFromLeftSlow {
    0% {
        transform: translateX(-100%);
        opacity: 0;
    }
    100% {
        transform: translateX(0);
        opacity: 1;
    }
}

.movie-card-ahla {
    background-color: var(--content-bg-color, #1e1e1e);
    border-radius: 12px;
    overflow: hidden;
    position: relative;
    height: 400px;
    display: flex;
    flex-direction: column;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
    border: 1px solid var(--border-color, #333);
    opacity: 0; /* للأنيميشن عند التحميل */
    transition: transform 0.35s ease-in-out, box-shadow 0.35s ease-in-out;
}

.movie-card-ahla.animate-slide-in {
    animation-name: slideInFromLeftSlow;
    animation-duration: 1.0s;
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    animation-fill-mode: forwards;
}

.movie-card-image-ahla { /* أو .movie-card-ahla > img */
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    background-size: cover;
    background-position: center center;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1; /* خلف المحتوى */
    /* --- التعديل: إزالة transform من transition إذا كان فقط للـ scale --- */
    transition: filter 0.4s ease-out;
}
/* إذا كنت تستخدم img> مباشرة بدلاً من div.movie-card-image-ahla لخلفية الصورة */
.movie-card-ahla > img { /* نفس تنسيقات .movie-card-image-ahla تقريبًا */
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1;
    /* --- التعديل: إزالة transform من transition إذا كان فقط للـ scale --- */
    transition: filter 0.4s ease-out;
}


/* تأثيرات الـ HOVER على البطاقة والصورة (تبقى كما هي) */
.movie-card-ahla:hover {
    transform: translateY(-7px); /* البطاقة نفسها تتحرك */
    box-shadow: 0 15px 30px color-mix(in srgb, var(--primary-color, #e50914) 40%, transparent);
}
@supports not (background: color-mix(in srgb, white 50%, transparent)) {
    .movie-card-ahla:hover {
        box-shadow: 0 15px 30px var(--primary-color, #e50914);
    }
}

/* --- التعديل هنا: إزالة transform: scale من الصورة عند HOVER --- */
.movie-card-ahla:hover .movie-card-image-ahla, /* إذا كانت الصورة داخل div */
.movie-card-ahla:hover > img                   /* إذا كانت الصورة img> مباشرة */
{
    /* transform: scale(1.15); */ /* --- هذا السطر تم إزالته/التعليق عليه بالكامل --- */
    filter: brightness(0.7); /* يبقى هذا التأثير لتعتيم الصورة وإظهار النص بشكل أفضل */
}

/* --- التحكم في ظهور واختفاء .movie-card-content-ahla بالكامل (يبقى كما هو) --- */
.movie-card-content-ahla {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 2;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 25%, rgba(0, 0, 0, 0.2) 70%, transparent 100%);
    padding: 15px;
    box-sizing: border-box;
    color: var(--dark-header-text, #f0f0f0);
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.3s ease-out, transform 0.3s ease-out;
    max-height: 75%;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
}

.movie-card-ahla:hover .movie-card-content-ahla {
    opacity: 1;
    transform: translateY(0);
}

/* (باقي كود CSS للعناصر الداخلية للمحتوى و Media Queries يبقى كما هو بالضبط كما في طلبك الأخير) */
.movie-title-ahla {
    font-size: 1.4em;
    margin-top: 0;
    margin-bottom: 8px;
    color: var(--primary-color, #e50914);
    font-weight: 700;
    line-height: 1.3;
}
.movie-title-ahla a {
    color: inherit !important;
    text-decoration: none !important;
}

.movie-description-ahla {
    font-size: 0.85em;
    line-height: 1.5;
    margin-bottom: 12px;
    max-height: 4.5em;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    color: inherit;
}

.movie-meta-ahla {
    font-size: 0.75em;
    margin-bottom: 10px;
    color: #b0b0b0;
    display: flex;
    flex-direction: column;
    gap: 4px;
}
.movie-meta-ahla .meta-item-ahla { display: block; line-height: 1.3; }
.movie-meta-ahla .meta-item-ahla strong { color: #ccc; margin-left: 5px; }

.movie-genre-ahla {
    font-size: 0.75em;
    background-color: var(--primary-color, rgba(229,9,20,0.8));
    color: var(--header-text-color, #fff);
    padding: 5px 12px;
    border-radius: 20px;
    display: inline-block;
    font-weight: bold;
    align-self: flex-start;
    margin-top: 8px;
}

@media (max-width: 992px) {
    .custom-magazine-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
    .movie-card-ahla { height: 380px; }
    .movie-title-ahla { font-size: 1.3em; }
}

@media (max-width: 767px) {
    .custom-magazine-grid { grid-template-columns: 1fr; gap: 15px; }
    .movie-card-ahla { height: 350px; }
    .movie-title-ahla { font-size: 1.2em; }
    .movie-description-ahla { -webkit-line-clamp: 2; max-height: 3em; }
    .movie-card-content-ahla { padding: 12px; max-height: 70%; }
}
.movie-card-image-ahla img {
    height: 400px;
    width: 100%;
}
/* --- نهاية كود المجلة المخصص --- */


/* --- الشكل 5 معدل بالكامل لمتغيرات CSS --- */
p.nav {
  font-family: var(--body-font-family, 'Roboto', sans-serif); /* استخدام خط المنتدى مع خط احتياطي */
  direction: rtl;
  text-align: right;
  margin-bottom: 20px;
  display: flex;
  /* استخدام لون خلفية عام أو لون محتوى إذا كان ذلك مناسبًا */
  background-color: var(--main-bg-color, #f4f4f4); /* أو var(--content-bg-color) إذا كان أنسب */
  border-radius: 4px;
  overflow: hidden;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  /* لون الفواصل الأصلية (::) - اجعله قريبًا من لون النص الباهت أو الحدود */
  color: var(--border-color, #bbb);
  font-size: 1px; /* محاولة لجعل الفواصل الأصلية صغيرة جداً */
}

p.nav a {
  font-size: var(--body-font-size, 14px); /* استخدام حجم خط المنتدى */
  color: var(--text-color, #555); /* لون نص الرابط العادي */
  text-decoration: none;
  padding: 10px 15px; /* تعديل البادينج قليلًا ليتناسب أكثر */
  background-color: var(--content-bg-color, #fff); /* خلفية الرابط - عادة لون المحتوى */
  border-left: 1px solid var(--border-color, #e0e0e0); /* لون الفاصل بين الروابط */
  flex-grow: 1;
  text-align: center;
  transition: background-color 0.25s, color 0.25s;
  position: relative;
}

/* إزالة الحد من أول عنصر (الذي سيكون أقصى اليمين في RTL) */
p.nav a:first-of-type {
  border-left: none;
}

/* مؤشر السهم الصغير */
p.nav a:not(:last-of-type)::after {
  content: "❯";
  font-family: sans-serif;
  font-size: 10px;
  /* لون السهم - يمكن أن يكون أفتح من لون النص العادي أو بلون الحدود */
  color: var(--secondary-color, #aaa); /* أو var(--border-color) */
  position: absolute;
  left: 8px;
  top: 50%;
  transform: translateY(-50%);
  transition: color 0.25s;
}

/* تأثير التحويم على الروابط العادية */
p.nav a:hover {
  background-color: var(--primary-color, #446FAB); /* اللون الرئيسي للتحويم */
  color: var(--header-text-color, white); /* لون النص على اللون الرئيسي (عادة أبيض) */
}

/* تغيير لون السهم عند التحويم على الرابط */
p.nav a:hover::after {
  color: var(--header-text-color, white); /* نفس لون النص عند التحويم */
}

/* === الجزء المطلوب تعديله: الرابط الأخير (الصفحة الحالية) === */
p.nav a:last-of-type {
  /* استخدام اللون الرئيسي أو لون التمييز للرابط النشط */
  background-color: var(--primary-color, #446FAB);
  /* لون النص على اللون الرئيسي */
  color: var(--header-text-color, #fff);
  font-weight: 700; /* أو bold */
  /* يمكنك إزالة أو تعديل الحد إذا كان اللون الرئيسي يغطيه */
  /* border-left-color: var(--primary-color, #446FAB); */
}

/* لا نحتاج لـ ::after على العنصر الأخير لأنه لا يشير إلى شيء بعده */
p.nav a:last-of-type::after {
  display: none;
}

/* --- إضافات للوضع الداكن (Dark Mode) إذا كان المنتدى يستخدم فئة مثل .dark-theme على body --- */
/* تأكد من اسم الفئة الصحيحة للوضع الداكن من خلال فحص المنتدى */
body.dark-theme p.nav, /* أو .dark, أو أي اسم فئة يستخدمه المنتدى */
:root[data-theme="dark"] p.nav { /* طريقة أخرى شائعة للوضع الداكن */
  background-color: var(--dark-bg, #22272e);
  color: var(--dark-border, #444c56); /* لون الفواصل في الوضع الداكن */
}

body.dark-theme p.nav a,
:root[data-theme="dark"] p.nav a {
  color: var(--dark-text, #cdd9e5);
  background-color: var(--dark-content-bg, #2d333b);
  border-left-color: var(--dark-border, #444c56);
}

body.dark-theme p.nav a:not(:last-of-type)::after,
:root[data-theme="dark"] p.nav a:not(:last-of-type)::after {
  color: var(--dark-secondary, #373e47); /* أو var(--dark-border) */
}

body.dark-theme p.nav a:hover,
:root[data-theme="dark"] p.nav a:hover {
  background-color: var(--dark-primary, #2d333b); /* أو var(--dark-link) إذا كان أنسب للتحويم */
  color: var(--dark-header-text, #cdd9e5);
}

body.dark-theme p.nav a:hover::after,
:root[data-theme="dark"] p.nav a:hover::after {
  color: var(--dark-header-text, #cdd9e5);
}

body.dark-theme p.nav a:last-of-type,
:root[data-theme="dark"] p.nav a:last-of-type {
  background-color: var(--dark-primary, #2d333b); /* أو var(--dark-link) إذا كان أنسب للرابط النشط */
  color: var(--dark-header-text, #cdd9e5);
  /* border-left-color: var(--dark-primary, #2d333b); */
}

p.nav a:last-of-type span {
    color: snow;
}
.movie-card-image-ahla::before {
    content: "\f030"; /* تأكد من صحة رمز الأيقونة لإصدار Font Awesome المستخدم */
    font-family: 'Font Awesome 5 Pro', FontAwesome, "Font Awesome 5 Free"; /* أضفت Font Awesome 5 Free كاحتياطي إضافي */
    font-weight: 900; /*  مهم لبعض أيقونات Font Awesome 5 Pro/Free Solid */
    
    font-size: 95px;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: -1; 
    opacity: 0.25; /* !!! قللت الشفافية قليلاً لجعلها أكثر وضوحًا للاختبار !!! */
}

/* تأثير التحويم على الروابط العادية */
.movie-card-image-ahla::before {
  color: var(--primary-color, #446FAB); /* اللون الرئيسي للتحويم */
}


/* بداية كود إنشاء موضوع */
.gradient-hover-btn {
    background-size: 200% 100%; /* مهم للتحريك */
    background-image: linear-gradient(
        to right,
        var(--primary-color, #007bff) 0%,
        var(--accent-color, #ff6b6b) 50%, /* لون تمييز أو لون ثانوي */
        var(--primary-color, #007bff) 100%
    );
    color: var(--header-text-color, #ffffff);
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    transition: background-position 0.5s ease-in-out, transform 0.2s ease, box-shadow 0.2s ease;
    padding: 14px 28px; /* حشو أكبر قليلاً */
    border-radius: 8px; /* حواف أقل دائرية */
}

.button-icon-gradient {
    margin-right: 10px; /* في RTL */
}

.gradient-hover-btn:hover {
    background-position: -100% 0; /* تحريك التدرج */
    transform: translateY(-2px);
    box-shadow: 0 7px 20px rgba(0,0,0,0.25);
}

.gradient-hover-btn:active {
    transform: translateY(0px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}
a.creative-button.gradient-hover-btn.new-topic-btn {
    font-weight: 700;
}   
  
/* نهاية كود إنشاء موضوع */

a.quick-reply-btn.quick-reply-upload, div#quick-reply-avatar {
    display: none;
}
.quick-reply-textarea-wrap {
    padding: 0px;
    position: relative;
    width: 100%;
    padding-left: 64px;
}
.contentRow-figure span#js-XFUniqueId3 img {
    width: 96px;
    height: 96px;
}

.message-avatar {
    display: inherit;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    vertical-align: top;
    overflow: hidden;
}

.message-avatar span.avatar-u1-m img {
    width: 96px;
    height: 96px;
}
span#quickreply-img img {
    height: 96px;
}

button.btn.btn-default.btn-icon {
    /* color: var(--primary-color, #446FAB); */
    background-color: var(--primary-color, #446FAB);
}
.btn:hover, input.button:hover, input[type="submit"]:hover, input[type="button"]:hover, button.button:hover, .button1:hover, .button2:hover {
    background-color: var(--primary-color, #446FAB);
}
.btn, input.button, input[type="submit"], input[type="button"], button.button, .button1, .button2
{
    background-color: var(--primary-color, #446FAB);
}

#tabs .activetab a, .tabs .activetab a {
    color: orangered;
    font-weight: 700;
}

a {
    color: unset;
  font-weight: 700;
}

/* إخفاء جميع الصور داخل الروابط المستهدفة */
p.right a.btn.btn-flat img {
    display: none !important; /* نستخدم !important للتأكد من تجاوز أي أنماط أخرى */
}

/* إظهار النص البديل لكل زر */

/* زر حذف هذا الموضوع */
p.right a.btn.btn-flat[href*="mode=delete"]::after {
    content: "حذف هذا الموضوع";
    /* يمكنك إضافة تنسيقات إضافية هنا إذا أردت */
    /* padding: 5px 10px; */
    /* color: #yourcolor; */
}

/* زر انقل هذا الموضوع */
p.right a.btn.btn-flat[href*="mode=move"]::after {
    content: "انقل هذا الموضوع";
}

/* زر اقفل هذا الموضوع */
p.right a.btn.btn-flat[href*="mode=lock"]::after {
    content: "اقفل هذا الموضوع";
}

/* زر تقسيم الموضوع */
p.right a.btn.btn-flat[href*="mode=split"]::after {
    content: "تقسيم الموضوع";
}

/* زر إدماج المواضيع */
p.right a.btn.btn-flat[href*="/merge?t="]::after { /* لاحظ أن محدد الدمج مختلف قليلاً */
    content: "إدماج المواضيع";
}
p.right a.btn.btn-flat[href*="mode=trash"]::after {
    content: "النقل لسلة المهملات";
    
}

/* (اختياري) تنسيقات عامة للنص المضاف إذا كانت الأزرار تبدو فارغة */
p.right a.btn.btn-flat::after {
    display: inline-block; /* للتأكد من أن النص يعامل ككتلة ويأخذ مساحة */
    vertical-align: middle; /* لمحاذاة النص مع أيقونات أخرى إذا وجدت */
    /* يمكنك إضافة padding عام هنا إذا لم تحدده لكل زر على حدة */
    /* padding: 3px 8px; */
}

p.right a.btn.btn-flat {
    background-color: var(--primary-color, #446FAB);
}


span.legend-content-GROUP b {
    display: inline-table;
    margin-left: 10px;
}
div#Admin-ONLINE a span[style="color:#D60303"], div#Admin-ONLINE a span[style="color:#F00058"] {
    font-size: 15px;
}
div#Admin-ONLINE a {
    font-size: 0px;
}

div#Moderators-ONLINE a span[style="color:#084094"], div#Moderators-ONLINE a span[style="color:#077A07"],div#Moderators-ONLINE a span[style="color:#850707"],div#Moderators-ONLINE a span[style="color:#020994"] {
    font-size: 15px;
}
div#Moderators-ONLINE a {
    font-size: 0px;
}

div#Members-ONLINE a span[style="color:#8553F2"], div#Members-ONLINE a span[style="color:#02A186"],div#Members-ONLINE a span[style="color:#0B7D05"] {
    font-size: 15px;
}
div#Members-ONLINE a {
    font-size: 0px;
}

/* ... (بداية الكود CSS السابق تبقى كما هي) ... */
ul#custom-basic-info-list img
 {
    width: 1px;
}
/* تطبيق النمط فقط إذا كان body يحتوي على الكلاس المميز لصفحة البروفايل */
body.page-profile #index {
    margin-left: 0px; 
    transition: none !important; /* أضفت !important لزيادة الأولوية إذا لزم الأمر */
}
body.is-profile-page-by-js #index {
    margin-left: 0px; 
    transition: none !important;
}
/* 1. إخفاء الإعلانات بشكل أكثر تحديدًا */
body .h2fc211f9,
body iframe[src*="a7la.0wn0.com"],
body div[style*="height: 90px"][style*="min-width: 728px"], /* إخفاء الحاويات التي قد تحتوي إعلانات */
body div[style*="height:250px"][style*="margin-bottom:18px"] iframe,
body div[id="h2fc211f9"] {
    display: none !important;
    visibility: hidden !important;
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
    position: absolute !important; /* إبعادها عن التدفق */
    left: -9999px !important;
}

/* إخفاء حاويات الإعلانات التي قد تظهر بسبب inline styles */
div[style*="max-height: 90px"][style*="min-width: 728px"],
div[style*="height:250px"][style*="margin-bottom:18px"] {
    display: none !important;
}

/* 2. إخفاء عناصر الواجهة الأصلية التي سنعيد بناءها أو لا نريدها */
/* تأكد من أن هذه المحددات دقيقة لصفحة الملف الشخصي فقط */
body.profile-page .main-inner > .cp.advanced-profile, /* حاوية المعلومات الرئيسية الأصلية */
body.profile-page .main-inner > .cp-sidebar.advanced-profile { /* الشريط الجانبي الأصلي */
    display: none !important;
}

/* إذا أردت إخفاء الفواصل التي قد تتركها الإعلانات */
div[style="height:3px"] {
    display: none !important;
}

button.custom-tab-link {
    width: max-content;
}
/* --- بداية تنسيقات الملف الشخصي الجديد --- */
body {
    background-color: #f0f2f5; /* خلفية الصفحة العامة */
    margin: 0; /* إزالة أي هوامش افتراضية من المتصفح للـ body */
    padding: 0; /* إزالة أي حشوات افتراضية */
}
a.btn.btn-default.action-button.secondary {
    background-color: var(--primary-color);
}
.custom-profile-container {
    /* max-width: 1000px; */ /* --- إزالة أو تعليق هذا السطر */
    width: 100%; /* --- إضافة هذا السطر لجعل العرض 100% */
    margin: 0 auto; /* --- تغيير الهامش: 0 علوي/سفلي، auto يمين/يسار (للتوسيط إذا كان هناك حد أقصى للعرض لاحقًا) */
    /* يمكنك تعديل الهامش العلوي إذا أردت مسافة من أعلى الصفحة، مثال: margin: 20px 0 0 0; */
    background-color: #fff;
    /* border-radius: 8px; */ /* --- يمكنك إزالة هذا إذا كنت تريد الحواف مستقيمة مع عرض الشاشة الكامل */
    /* box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); */ /* --- يمكنك إزالة هذا أو تعديله */
    overflow: hidden;
    direction: rtl;
    font-family: 'Tahoma', 'Segoe UI', sans-serif;
    min-height: 100vh; /* للتأكد أن الحاوية تمتد على الأقل بكامل ارتفاع الشاشة */
}

.custom-profile-header {
    position: relative;
}

.custom-cover-image img {
    width: 100%;
    height: 250px; /* يمكنك تعديل هذا الارتفاع حسب رغبتك */
    object-fit: cover;
    display: block;
}

.custom-profile-main-info {
    display: flex;
    align-items: flex-end;
    /* padding: 0 20px; */ /* --- يمكنك تعديل هذا أو إزالته */
    padding: 0 3%; /* استخدام نسبة مئوية للحشو الجانبي ليكون متناسبًا */
    margin-top: -146px;
    position: relative;
    z-index: 1;
    /* إذا أردت أن تكون هذه المنطقة بعرض محدد داخل العرض الكامل */
    /* max-width: 1200px; */ /* مثال: حد أقصى لعرض المحتوى داخل الغلاف */
    /* margin-left: auto; */
    /* margin-right: auto; */
}

.custom-avatar-container {
    margin-left: 20px; /* هذا سيعمل كما هو في RTL */
}

.custom-profile-avatar {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    border: 5px solid #fff;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
    object-fit: cover;
}

.custom-user-details {
    padding-bottom: 15px;
}

.custom-username {
    font-size: 28px;
    font-weight: bold;
    margin: 0 0 5px 0;
    color: #1c1e21;
}
/* .custom-profile-header .custom-username {
    color: #fff;
    text-shadow: 0 1px 2px rgba(0,0,0,0.5);
} */

.custom-user-title {
    font-size: 16px;
    color: #606770;
    margin: 0 0 15px 0;
}

.custom-user-actions .action-button {
    padding: 8px 15px;
    border: none;
    border-radius: 5px;
    font-size: 14px;
    cursor: pointer;
    margin-left: 10px;
    transition: background-color 0.3s ease;
    background-color: #1877f2;
    color: white;
    display: inline;
}
.custom-user-actions .action-button:hover {
    background-color: #166fe5;
}
.custom-user-actions .action-button.secondary {
    background-color: #e4e6eb;
    color: #050505;
}
.custom-user-actions .action-button.secondary:hover {
    background-color: #d8dbdf;
}

.custom-profile-content {
    display: flex;
    /* padding: 20px; */ /* --- يمكنك تعديل هذا أو إزالته */
    padding: 20px 3%; /* استخدام نسبة مئوية للحشو الجانبي */
    /* border-top: 1px solid #ddd; */ /* --- يمكنك إزالة هذا الخط الفاصل إذا أردت */
    margin-top: 20px;
    /* إذا أردت أن يكون هذا المحتوى بعرض محدد داخل العرض الكامل */
    /* max-width: 1200px; */ /* مثال: حد أقصى لعرض المحتوى */
    /* margin-left: auto; */
    /* margin-right: auto; */
}

.custom-profile-sidebar {
    flex: 0 0 280px; /* يمكنك تعديل هذا العرض أو استخدام نسبة مئوية مثل flex: 0 0 25%; */
    margin-left: 20px; /* في RTL هذا يضع مسافة على يمين الشريط */
}

.custom-profile-sidebar .info-box,
.custom-profile-sidebar .stats-box {
    background-color: #f7f8fa;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 15px;
    border: 1px solid #e0e0e0;
}
.custom-profile-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 10px;
    color: #333;
    border-bottom: 1px solid #ddd;
    padding-bottom: 8px;
}
.custom-profile-sidebar ul {
    list-style: none;
    padding: 0;
    margin: 0;
}
.custom-profile-sidebar ul li {
    font-size: 14px;
    margin-bottom: 8px;
    color: #555;
}
.custom-profile-sidebar ul li strong {
    color: #111;
    margin-left: 5px;
}
.custom-profile-sidebar ul li a {
    color: #1877f2;
    text-decoration: none;
}
.custom-profile-sidebar ul li a:hover {
    text-decoration: underline;
}


.custom-profile-main-area {
    flex-grow: 1;
}

/* --- Tabs --- */
.custom-tabs {
    display: flex;
    border-bottom: 2px solid #ddd;
    margin-bottom: 20px;
}
.custom-tab-link {
    background-color: transparent;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    font-size: 16px;
    color: #555;
    transition: color 0.3s, border-bottom 0.3s;
    border-bottom: 2px solid transparent;
    margin-bottom: -2px;
}
.custom-tab-link:hover {
    color: #1877f2;
}
.custom-tab-link.active {
    color: #1877f2;
    border-bottom: 2px solid #1877f2;
    font-weight: bold;
}

.custom-tab-content {
    display: none;
    padding: 15px;
    /* border: 1px solid #e0e0e0; */ /* --- يمكنك إزالة هذا الإطار */
    /* border-top: none; */
    /* border-radius: 0 0 6px 6px; */ /* --- يمكنك إزالة هذا إذا أردت */
    background-color: #fff; /* أو اجعلها شفافة إذا كان لون الحاوية الرئيسية مناسبًا */
}
.custom-tab-content.active-content {
    display: block;
}
.custom-tab-content h3 {
    font-size: 18px;
    margin-top: 0;
    color: #333;
}
.custom-tab-content p, .custom-tab-content div {
    line-height: 1.7;
    color: #444;
    margin-bottom: 10px;
}

.custom-tab-content dl.profile-advanced-stats { margin-bottom: 8px; }
.custom-tab-content dl.profile-advanced-stats dt { font-weight: bold; color: #111; display: inline-block; min-width: 100px; }
.custom-tab-content dl.profile-advanced-stats dd { display: inline-block; color: #555; }
.custom-tab-content .field_uneditable { display: inline !important; }
.custom-tab-content .field_editable { display: none !important; }

/* للاستجابة (تبقى مهمة حتى مع عرض 100% للتعامل مع الشاشات الصغيرة جدًا) */
@media (max-width: 768px) {
    .custom-profile-content {
        flex-direction: column;
        padding: 15px 2%; /* تعديل الحشو للشاشات الأصغر */
    }
    .custom-profile-sidebar {
        flex: 0 0 auto;
        width: 100%;
        margin-left: 0;
        margin-bottom: 20px;
    }
    .custom-profile-main-info {
        flex-direction: column;
        align-items: center;
        text-align: center;
        margin-top: -50px;
        padding: 0 2%; /* تعديل الحشو */
    }
    .custom-avatar-container {
        margin-left: 0;
        margin-bottom: 10px;
    }
    .custom-profile-avatar {
        width: 120px;
        height: 120px;
    }
    .custom-tabs {
        flex-wrap: wrap;
    }
    .custom-tab-link {
        flex-basis: 50%;
        text-align: center;
    }
}

@media (max-width: 480px) {
    .custom-cover-image img { height: 180px; }
    .custom-profile-avatar { width: 100px; height: 100px; border-width: 3px; }
    .custom-username { font-size: 22px; }
    .custom-user-title { font-size: 14px; }
    .custom-user-actions .action-button { font-size: 13px; padding: 6px 10px; display: block; width: 90%; margin: 5px auto; }
    .custom-tab-link { flex-basis: 100%; }
}
/* --- نهاية تنسيقات الملف الشخصي الجديد --- */





/* ... (الكود CSS السابق لإخفاء الإعلانات والعناصر الأصلية، وتنسيق الهيكل العام) ... */

/* --- جديد: تنسيقات الخلفية الديناميكية لـ .custom-profile-container --- */
.custom-profile-container.has-dynamic-container-background {
    /* الصورة الفعلية يتم تعيينها عبر متغير CSS من JavaScript */
    background-image:
        linear-gradient(to top, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.7) 25%, rgba(255, 255, 255, 0.2) 50%, transparent 75%), /* التدرج الشفاف من الأسفل للأعلى */
        var(--dynamic-container-bg-image); /* الصورة الديناميكية */

    background-size: cover; /* لتغطية كامل المساحة */
    background-position: center center; /* لتوسيط الصورة */
    background-repeat: no-repeat; /* لمنع تكرار الصورة */
    /* background-attachment: fixed; */ /* أزل أو أبقِ هذا حسب رغبتك، قد لا يكون مناسبًا لحاوية داخلية */

    /* قد تحتاج إلى التأكد من أن لون خلفية body لا يتعارض */
    /* إذا كان .custom-profile-container يأخذ عرض الصفحة 100%، فهذا أقل أهمية */
}

/* إذا كانت الخلفية مطبقة على .custom-profile-container، */
/* تأكد أن العناصر الداخلية (مثل الصناديق البيضاء) لا تزال واضحة */
.custom-profile-container.has-dynamic-container-background .custom-profile-sidebar .info-box,
.custom-profile-container.has-dynamic-container-background .custom-profile-sidebar .stats-box,
.custom-profile-container.has-dynamic-container-background .custom-profile-main-area .custom-tab-content {
    /* يمكنك جعلها شبه شفافة أو الحفاظ على لونها الصلب */
    background-color: rgba(255, 255, 255, 0.92); /* مثال: خلفية بيضاء شبه شفافة للمحتوى */
    /* border: 1px solid rgba(224, 224, 224, 0.7); */ /* قد ترغب في إزالة أو تخفيف الإطارات */
}

/* إذا كنت قد طبقت خلفية على #index سابقًا وتريد إزالتها */
#index.has-dynamic-index-background {
    background-image: none !important; /* لإلغاء أي خلفية مطبقة سابقًا */
}


/* --- تنسيقات صورة الغلاف (كما هي أو مع تعديلات طفيفة إذا لزم الأمر) --- */
.custom-cover-image img {
    width: 100%;
    height: 250px; /* أو الارتفاع الذي تفضله */
    object-fit: cover;
    display: block;
    background-color: #e9e9e9; /* لون احتياطي أثناء تحميل الصورة */
}

/* ... (باقي تنسيقات CSS الخاصة بك) ... */

.custom-profile-container.has-dynamic-container-background {
    background-image:
        linear-gradient(to top, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.7) 25%, rgba(255, 255, 255, 0.2) 50%, transparent 75%),
        var(--dynamic-container-bg-image);
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
}
/* إذا لم يتم العثور على صورة خلفية، يمكنك إضافة لون افتراضي عبر CSS */
.custom-profile-container:not(.has-dynamic-container-background) {
    /* background-color: #eceff1; */ /* مثال للون خلفية افتراضي */
}

/* ... (جميع أكواد CSS السابقة تبقى كما هي) ... */

/* --- تعديل لفصل الغلاف عن الخلفية --- */
.custom-profile-header {
    position: relative; /* هذا يجب أن يكون موجودًا بالفعل */
    /* أضف لون خلفية مصمت هنا. اختر اللون الذي يناسب تصميمك. */
    /* هذا اللون سيكون خلف صورة الغلاف الفعلية ويمنع تداخل الخلفية الرئيسية. */
    background-color: #202427; /* مثال: لون رمادي داكن. يمكنك استخدام #000 للأسود أو أي لون آخر */
    /* تأكد من أن هذا اللون لا يتعارض مع أي نصوص أو عناصر أخرى في الهيدر */
}

/* تأكيد على أن حاوية صورة الغلاف نفسها لا تضيف شفافية غير مرغوبة */
.custom-cover-image {
    line-height: 0; /* لإزالة أي مسافات إضافية قد تسببها الصورة إذا كانت inline */
    /* إذا كان هناك أي padding على .custom-cover-image قد يكشف الخلفية، */
    /* تأكد أن .custom-profile-header هو الذي يحمل لون الخلفية الحاجز */
}

.custom-cover-image img {
    width: 100%;
    height: 250px; /* أو الارتفاع الذي حددته لصورة الغلاف */
    object-fit: cover; /* هذا مهم للحفاظ على نسب الصورة وتغطية المساحة */
    display: block; /* يضمن أن الصورة تتصرف كعنصر كتلة */
}

/* --- مراجعة لتنسيق خلفية الحاوية الرئيسية --- */
/* هذا هو الكود الحالي لخلفية .custom-profile-container (الخلفية العامة للملف الشخصي) */
/* تأكد أن التدرج لا يزال يحقق التأثير الذي تريده للخلفية نفسها */
.custom-profile-container.has-dynamic-container-background {
    background-image:
        /* التدرج: يبدأ من الأسفل بلون أبيض شبه شفاف، ويصبح شفافًا تمامًا في الأعلى ليكشف الصورة الخلفية */
        /* إذا كنت ترى أن هذا التدرج يساهم في المشكلة، يمكنك تعديله */
        linear-gradient(to top, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.7) 25%, rgba(255, 255, 255, 0.2) 50%, transparent 75%),
        var(--dynamic-container-bg-image); /* صورة الخلفية الديناميكية */
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    /* background-attachment: fixed; -- كان معلقًا، يمكن إبقاؤه أو إزالته */
}

/* إذا لم يتم العثور على صورة خلفية ديناميكية، يمكنك تحديد لون خلفية افتراضي للحاوية */
.custom-profile-container:not(.has-dynamic-container-background) {
    background-color: #f0f2f5; /* مثال: لون رمادي فاتح جداً كخلفية افتراضية للملف الشخصي */
}

/* --- تأكيد على أن المحتوى فوق الخلفية واضح --- */
/* هذه القواعد مهمة إذا كانت الخلفية الديناميكية تجعل قراءة المحتوى صعبة */
.custom-profile-container.has-dynamic-container-background .custom-profile-sidebar .info-box,
.custom-profile-container.has-dynamic-container-background .custom-profile-sidebar .stats-box,
.custom-profile-container.has-dynamic-container-background .custom-profile-main-area .custom-tab-content {
    background-color: rgba(255, 255, 255, 0.92); /* خلفية بيضاء شبه شفافة لمربعات المحتوى */
    /* border: 1px solid rgba(224, 224, 224, 0.7); -- يمكنك تعديل أو إزالة الإطارات */
}

/* ... (جميع أكواد CSS السابقة تبقى كما هي) ... */

/* --- تحسين وضوح النصوص والروابط --- */

/* 1. الألوان الأساسية للنصوص (لضمان التباين) */
.custom-profile-container,
.custom-profile-sidebar ul li,
.custom-tab-content p,
.custom-tab-content div,
.custom-tab-content dl dt, /* لعناصر التعريف في حقول الملف الشخصي */
.custom-tab-content dl dd {
    color: #333; /* لون رمادي داكن لمعظم النصوص، يوفر تباين جيد على خلفيات فاتحة/متوسطة */
    text-shadow: 0px 0px 2px rgba(255, 255, 255, 0.5); /* ظل خفيف جداً لمساعدة القراءة إذا كانت الخلفية داكنة قليلاً */
}

/* 2. اسم المستخدم والعنوان/الرتبة (فوق صورة الغلاف/الخلفية العلوية) */
.custom-username {
    color: #ffffff; /* لون أبيض لاسم المستخدم */
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6), 0 0 5px rgba(0,0,0,0.4); /* ظل أسود قوي لتحسين الوضوح */
}

.custom-user-title {
    color: #f0f0f0; /* لون أبيض مائل للرمادي قليلاً للرتبة */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7); /* ظل أسود واضح */
}

/* يمكنك إضافة خلفية خفيفة جدا وشبه شفافة لحاوية تفاصيل المستخدم إذا لزم الأمر */
/*
.custom-user-details {
    background-color: rgba(0, 0, 0, 0.1);
    padding: 5px 10px;
    border-radius: 4px;
    display: inline-block; // أو حسب تصميمك
}
*/


/* 3. رؤوس الأقسام (Sidebar و Tab Content) */
.custom-profile-sidebar h3,
.custom-tab-content h3 {
    color: #111; /* لون أسود أو داكن جداً للعناوين الرئيسية */
    text-shadow: none; /* لا حاجة لظل هنا لأنها عادة فوق خلفية شبه مصمتة */
}

/* 4. عناصر القائمة في الشريط الجانبي (الأسماء الغامقة) */
.custom-profile-sidebar ul li strong {
    color: #000; /* أسود لأسماء الحقول */
}

/* 5. الروابط العامة داخل محتوى الملف الشخصي */
.custom-profile-container a,
.custom-profile-sidebar ul li a, /* روابط داخل الشريط الجانبي */
.custom-tab-content a { /* روابط داخل محتوى التابات */
    color: #007bff; /* لون أزرق قياسي للروابط */
    text-decoration: none; /* إزالة الخط السفلي الافتراضي */
    text-shadow: 0px 0px 1px rgba(255, 255, 255, 0.4); /* ظل خفيف جداً للروابط */
    transition: color 0.2s ease;
}

.custom-profile-container a:hover,
.custom-profile-sidebar ul li a:hover,
.custom-tab-content a:hover {
    color: #0056b3; /* لون أغمق عند التحويم */
    text-decoration: underline; /* إضافة خط سفلي عند التحويم */
}

/* 6. أزرار التابات */
.custom-tab-link {
    color: #444; /* لون رمادي داكن للتابات غير النشطة */
    font-weight: 500; /* وزن خط متوسط */
    text-shadow: 0px 0px 1px rgba(255, 255, 255, 0.3);
}

.custom-tab-link.active {
    color: #007bff; /* لون أزرق للتاب النشط */
    font-weight: bold;
    text-shadow: none; /* لا حاجة لظل للتاب النشط لأنه مميز بالفعل */
}
.custom-tab-link:hover:not(.active) {
    color: #111; /* لون داكن عند التحويم على التاب غير النشط */
}


/* 7. أزرار الإجراءات (مثل زر المتابعة، إضافة صديق) */
/* تأكد أن لون النص داخل الأزرار متباين مع لون خلفية الزر نفسه */
.custom-user-actions .action-button {
    /* لون النص الافتراضي (عادة أبيض أو أسود) يتم تحديده عند تعريف خلفية الزر */
    /* مثال: إذا كان الزر أزرق، النص أبيض */
    /* color: white; */
    text-shadow: 0 1px 1px rgba(0,0,0,0.2); /* ظل خفيف للنص داخل الأزرار لمزيد من البروز */
}
.custom-user-actions .action-button.secondary { /* للأزرار ذات الخلفية الفاتحة */
    /* color: #333; */ /* نص داكن */
    /* text-shadow: none; */ /* أو ظل فاتح خفيف جداً */
}


/* 8. لضمان أن حاويات المحتوى الرئيسية لها خلفية شبه مصمتة كافية */
/* هذه القواعد مهمة لجعل النص فوقها واضحًا بغض النظر عن الخلفية الديناميكية */
.custom-profile-container.has-dynamic-container-background .custom-profile-sidebar .info-box,
.custom-profile-container.has-dynamic-container-background .custom-profile-sidebar .stats-box,
.custom-profile-container.has-dynamic-container-background .custom-profile-main-area .custom-tab-content {
    background-color: rgba(255, 255, 255, 0.94); /* زيادة طفيفة في عتامة الخلفية البيضاء */
    /* أو يمكنك استخدام لون أفتح قليلاً من لون الخلفية العام للموقع إذا كان داكناً */
    /* مثال إذا كان الموقع داكناً: background-color: rgba(50, 50, 50, 0.9); */
    /* وفي هذه الحالة ستحتاج لتغيير ألوان النصوص داخل هذه الصناديق إلى فاتحة */
    padding: 15px;
    border-radius: 6px;
    /* box-shadow: 0 1px 3px rgba(0,0,0,0.08); */ /* ظل خفيف للصناديق إذا أردت */
}

/* إذا لم تكن هناك خلفية ديناميكية، تأكد أن ألوان النصوص لا تزال مناسبة */
.custom-profile-container:not(.has-dynamic-container-background) {
    background-color: #f4f7f6; /* لون خلفية افتراضي فاتح */
}
/* والنصوص داخل الصناديق في هذه الحالة يمكن أن تكون على خلفية بيضاء مصمتة */
.custom-profile-container:not(.has-dynamic-container-background) .custom-profile-sidebar .info-box,
.custom-profile-container:not(.has-dynamic-container-background) .custom-profile-sidebar .stats-box,
.custom-profile-container:not(.has-dynamic-container-background) .custom-profile-main-area .custom-tab-content {
    background-color: #ffffff;
}
/* --- Forum Stats Widget for A7la7ekaya (General) --- */
.forum-stats-widget.ahlamontada-stats {
    font-family: Tahoma, Arial, sans-serif;
    background-color: #fff;
    border: 1px solid #CADCEA;
    border-radius: 6px;
    margin-bottom: 20px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    direction: rtl;
    overflow: hidden;
}

.forum-stats-widget.ahlamontada-stats h2 {
    background: linear-gradient(to bottom, #E5EEF5 0%, #D8E6F2 100%);
    border-bottom: 1px solid #CADCEA;
    color: #00417D;
    font-size: 13px;
    font-weight: bold;
    padding: 8px 12px;
    margin: 0;
    text-align: right;
}

.forum-stats-widget.ahlamontada-stats h2 i {
    margin-left: 8px;
    font-size: 1.1em;
}

/* --- Horizontal Stats Specific Styles --- */
.horizontal-stats ul {
    list-style-type: none;
    padding: 10px 5px;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around; /* أو space-between إذا كنت تفضل */
}

.horizontal-stats li {
    flex: 1 1 130px; /* flex-grow, flex-shrink, flex-basis */
    background-color: #f7f9fc;
    border: 1px solid #dfe8f1;
    border-radius: 4px;
    padding: 12px 8px;
    margin: 5px;
    text-align: center;
    transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
    /* تمت إزالة display: block; و border-bottom: none; لأن flex يهتم بالترتيب */
}

.horizontal-stats li:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.horizontal-stats li i {
    display: block; /* للحفاظ على الأيقونة فوق النص */
    font-size: 1.8em;
    margin: 0 auto 8px auto; /* توسيط وتوفير مسافة سفلية */
}

.horizontal-stats li i.icon-green { color: #28a745; }
.horizontal-stats li i.icon-blue { color: #007bff; }
.horizontal-stats li i.icon-purple { color: #6f42c1; }
.horizontal-stats li i.icon-orange { color: #fd7e14; }
.horizontal-stats li i.icon-red { color: #dc3545; }

.horizontal-stats li .stat-label {
    display: block; /* للحفاظ على النص الوصفي فوق القيمة */
    font-size: 11px;
    color: #555;
    margin-bottom: 4px;
    line-height: 1.3;
}

.horizontal-stats .stat-value {
    display: block; /* للحفاظ على القيمة تحت النص الوصفي */
    font-weight: bold;
    font-size: 1.3em;
    color: #00417D;
}

.horizontal-stats .stat-value a {
    color: #0056b3 !important; /* لضمان تطبيق اللون */
    text-decoration: none !important;
    font-weight: bold !important;
}

.horizontal-stats .stat-value a:hover {
    text-decoration: underline !important;
    color: #00417D !important;
}

/* --- Additional Stats Section Styles --- */
.additional-stats {
    padding: 0 10px 10px 10px;
    border-top: 1px solid #e0e0e0;
    margin-top: 10px;
}

.additional-stats .stat-section {
    padding: 10px 0;
    border-bottom: 1px dashed #e0e0e0;
}

.additional-stats .stat-section:last-child {
    border-bottom: none;
}

.additional-stats .stat-section h3 {
    font-size: 12px;
    font-weight: bold;
    color: #333;
    margin: 0 0 8px 0;
    padding-bottom: 5px;
    border-bottom: 1px solid #eee;
}

.additional-stats .stat-section h3 i {
    margin-left: 6px;
    color: #777;
}

.additional-stats p {
    margin: 0;
    font-size: 12px;
    color: #444;
}

.additional-stats .small-text {
    font-size: 0.9em;
    color: #777;
}

.additional-stats .online-users-list,
.additional-stats .birthday-users-list,
.additional-stats .legend-content,
.additional-stats .users-online-today-list {
    font-size: 12px;
    line-height: 1.6;
    color: #444;
    /* اختياري: للتحكم في ارتفاع القوائم الطويلة */
    /* max-height: 150px; */
    /* overflow-y: auto; */
}

.additional-stats .online-users-list a,
.additional-stats .birthday-users-list a,
.additional-stats .users-online-today-list a {
    text-decoration: none;
    margin: 0 2px; /* مسافة صغيرة بين الأسماء/الروابط */
}

.additional-stats .online-users-list a:hover,
.additional-stats .birthday-users-list a:hover,
.additional-stats .users-online-today-list a:hover {
    text-decoration: underline;
}

.additional-stats .legend-content span[style*="color"] {
    font-weight: bold;
    margin-right: 5px;
}

/* رسائل إذا كانت القوائم فارغة (أحلى منتدى عادة ما يعالج هذا) */
.additional-stats .online-users-list:empty::before,
.additional-stats .birthday-users-list:empty::before,
.additional-stats .users-online-today-list:empty::before {
    /* content: "لا يوجد أعضاء."; */ /* يمكنك تفعيل هذا إذا لزم الأمر */
    /* font-style: italic; */
    /* color: #888; */
}

/* --- Quick Links Section Styles --- */
.quick-links-section {
    padding: 10px;
    background-color: #f9f9f9;
    border-top: 1px solid #e0e0e0;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around; /* أو space-between أو center */
    gap: 8px; /* مسافة بين الأزرار */
}

.quick-link-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center; /* توسيط المحتوى داخل الزر */
    background-color: #e9eff5;
    color: #004a91;
    border: 1px solid #c5d9e8;
    padding: 8px 12px;
    border-radius: 4px;
    text-decoration: none;
    font-size: 11px;
    font-weight: bold;
    transition: background-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
    flex-grow: 1; /* للسماح للأزرار بالتمدد */
    min-width: 150px; /* لضمان ظهور الأزرار بشكل جيد */
    text-align: center; /* احتياطي إذا لم يعمل flex بشكل صحيح في بعض الحالات */
}

.quick-link-btn i {
    margin-left: 6px;
    font-size: 1.1em;
}

.quick-link-btn:hover {
    background-color: #d8e6f2;
    color: #003366;
    border-color: #b0c9dd;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.quick-link-btn.quick-link-logout {
    background-color: #ffebee; /* أحمر فاتح */
    color: #c62828; /* أحمر داكن */
    border-color: #ffcdd2;
}

.quick-link-btn.quick-link-logout:hover {
    background-color: #ffcdd2;
    color: #b71c1c;
    border-color: #ef9a9a;
}

.quick-link-btn.quick-link-logoin {
    background-color: #05178f;
    color: #ffffff;
    border-color: #0f4a8b;
}
.fa-sign-oin-alt:before {
    content: "\f090";
  font-family: FontAwesome;
}
.quick-link-btn.quick-link-logoin:hover {
    background-color: #0f4a8b;
    color: #ffffff;
    border-color: #05178f;
}


.cm_NEWEST_USER {
    font-size: 0;
}

.cm_NEWEST_USER a {
    font-size: 16px;
}

span#total-posts-val {
    font-size: 0;
}
span#total-posts-val .a7la-COUNTPOST {
    font-size: 16px;
}

span#total-topics-val
 {
    font-size: 0px;
}

span#total-topics-val .a7la-COUNTOPIC {
    font-size: 16px;
}
span#total-members-val {
    font-size: 0px;
}
span#total-members-val .a7la-COUNTUSER {
    font-size: 16px;
}

span#online-members-val {
    font-size: 0px;
}

span#online-members-val strong {
    font-size: 16px;
}
span.legend-content-GROUP {
    font-size: 0px;
}
span.legend-content-GROUP b a {
    font-size: 12px;
}

body#phpbb a, body#phpbb a:hover  {
    text-decoration: none !important; /* إزالة الخط السفلي من جميع الروابط داخل الودجت */
}

.quick-reply-textarea-wrap {
    padding-right: 0px;
}
